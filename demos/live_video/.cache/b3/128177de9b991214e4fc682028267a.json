{"id":"V6wL","dependencies":[{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1634211906094},{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634209725400},{"name":"./detection_to_rect","loc":{"line":19,"column":34},"parent":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\shared\\calculators\\calculate_alignment_points_rects.ts","resolved":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\shared\\calculators\\detection_to_rect.ts"}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=require(\"./detection_to_rect\");function e(e,i,o){var n=o.rotationVectorStartKeypointIndex,r=o.rotationVectorEndKeypointIndex,a=e.locationData,h=a.relativeKeypoints[n].x*i.width,s=a.relativeKeypoints[n].y*i.height,c=a.relativeKeypoints[r].x*i.width,d=a.relativeKeypoints[r].y*i.height,l=2*Math.sqrt((c-h)*(c-h)+(d-s)*(d-s)),p=t.computeRotation(e,i,o);return{xCenter:h/i.width,yCenter:s/i.height,width:l/i.width,height:l/i.height,rotation:p}}exports.calculateAlignmentPointsRects=e;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":39}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":41}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":49}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":72}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":81}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":83}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":27,"column":26},"generated":{"line":1,"column":85}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":87}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":90}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":94}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":96}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":98}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":131}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":133}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":30,"column":29},"generated":{"line":1,"column":135}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":166}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":1,"column":168}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":32,"column":33},"generated":{"line":1,"column":170}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":183}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":185}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":187}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":34,"column":37},"generated":{"line":1,"column":205}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":34,"column":52},"generated":{"line":1,"column":208}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":34,"column":56},"generated":{"line":1,"column":210}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":34,"column":66},"generated":{"line":1,"column":212}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":218}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":220}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":36,"column":19},"generated":{"line":1,"column":222}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":36,"column":37},"generated":{"line":1,"column":240}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":36,"column":52},"generated":{"line":1,"column":243}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":36,"column":56},"generated":{"line":1,"column":245}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":36,"column":66},"generated":{"line":1,"column":247}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":254}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":39,"column":6},"generated":{"line":1,"column":256}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":39,"column":19},"generated":{"line":1,"column":258}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":39,"column":37},"generated":{"line":1,"column":276}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":39,"column":50},"generated":{"line":1,"column":279}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":39,"column":54},"generated":{"line":1,"column":281}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":39,"column":64},"generated":{"line":1,"column":283}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":289}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":291}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":41,"column":19},"generated":{"line":1,"column":293}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":41,"column":37},"generated":{"line":1,"column":311}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":41,"column":50},"generated":{"line":1,"column":314}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":41,"column":54},"generated":{"line":1,"column":316}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":41,"column":64},"generated":{"line":1,"column":318}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":325}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":327}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":44,"column":18},"generated":{"line":1,"column":329}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":44,"column":23},"generated":{"line":1,"column":334}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":45,"column":23},"generated":{"line":1,"column":340}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":45,"column":32},"generated":{"line":1,"column":342}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":45,"column":44},"generated":{"line":1,"column":346}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":45,"column":53},"generated":{"line":1,"column":348}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":46,"column":23},"generated":{"line":1,"column":352}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":46,"column":32},"generated":{"line":1,"column":354}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":46,"column":44},"generated":{"line":1,"column":358}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":46,"column":53},"generated":{"line":1,"column":360}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":364}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":366}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":368}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":49,"column":35},"generated":{"line":1,"column":384}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":49,"column":46},"generated":{"line":1,"column":386}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":49,"column":57},"generated":{"line":1,"column":388}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":1,"column":391}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":397}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":398}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":406}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":53,"column":23},"generated":{"line":1,"column":408}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":53,"column":33},"generated":{"line":1,"column":410}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":416}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":1,"column":424}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":54,"column":23},"generated":{"line":1,"column":426}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":54,"column":33},"generated":{"line":1,"column":428}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":435}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":55,"column":11},"generated":{"line":1,"column":441}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":55,"column":21},"generated":{"line":1,"column":443}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":55,"column":31},"generated":{"line":1,"column":445}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":1,"column":451}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":458}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":56,"column":22},"generated":{"line":1,"column":460}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":56,"column":32},"generated":{"line":1,"column":462}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":469}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":57,"column":12},"generated":{"line":1,"column":478}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":481}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":489}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":519}}],"sources":{"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_alignment_points_rects.ts":"/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\n\r\nimport {computeRotation} from './detection_to_rect';\r\nimport {ImageSize} from './interfaces/common_interfaces';\r\nimport {DetectionToRectConfig} from './interfaces/config_interfaces';\r\nimport {Rect} from './interfaces/shape_interfaces';\r\nimport {Detection} from './interfaces/shape_interfaces';\r\n\r\n// ref:\r\n// https://github.com/google/mediapipe/blob/master/mediapipe/calculators/util/alignment_points_to_rects_calculator.cc\r\nexport function calculateAlignmentPointsRects(\r\n    detection: Detection, imageSize: ImageSize,\r\n    config: DetectionToRectConfig): Rect {\r\n  const startKeypoint = config.rotationVectorStartKeypointIndex;\r\n  const endKeypoint = config.rotationVectorEndKeypointIndex;\r\n\r\n  const locationData = detection.locationData;\r\n  const xCenter =\r\n      locationData.relativeKeypoints[startKeypoint].x * imageSize.width;\r\n  const yCenter =\r\n      locationData.relativeKeypoints[startKeypoint].y * imageSize.height;\r\n\r\n  const xScale =\r\n      locationData.relativeKeypoints[endKeypoint].x * imageSize.width;\r\n  const yScale =\r\n      locationData.relativeKeypoints[endKeypoint].y * imageSize.height;\r\n\r\n  // Bounding box size as double distance from center to scale point.\r\n  const boxSize = Math.sqrt(\r\n                      (xScale - xCenter) * (xScale - xCenter) +\r\n                      (yScale - yCenter) * (yScale - yCenter)) *\r\n      2;\r\n\r\n  const rotation = computeRotation(detection, imageSize, config);\r\n\r\n  // Set resulting bounding box.\r\n  return {\r\n    xCenter: xCenter / imageSize.width,\r\n    yCenter: yCenter / imageSize.height,\r\n    width: boxSize / imageSize.width,\r\n    height: boxSize / imageSize.height,\r\n    rotation\r\n  };\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"c35a5572e289a53fb340d4298c8ff16a","cacheData":{"env":{}}}