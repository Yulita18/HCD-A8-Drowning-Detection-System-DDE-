{"id":"LiTk","dependencies":[{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\posenet\\calculators\\build_part_with_score_queue.js.map","includedInParent":true,"mtime":1636879776484},{"name":"C:\\xampp\\htdocs\\pose-detection\\src\\posenet\\calculators\\build_part_with_score_queue.ts","includedInParent":true,"mtime":1634828555464},{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1636888836670},{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634828519177},{"name":"./max_heap","loc":{"line":3,"column":25},"parent":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\posenet\\calculators\\build_part_with_score_queue.js","resolved":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\posenet\\calculators\\max_heap.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./max_heap\");function r(e,r,a,t,o,u){for(var n=u.shape,i=n[0],f=n[1],h=!0,p=Math.max(a-o,0),s=Math.min(a+o+1,i),c=p;c<s;++c){for(var v=Math.max(t-o,0),m=Math.min(t+o+1,f),x=v;x<m;++x)if(u.get(c,x,e)>r){h=!1;break}if(!h)break}return h}function a(a,t,o){for(var u=o.shape,n=u[0],i=u[1],f=u[2],h=new e.MaxHeap(n*i*f,function(e){return e.score}),p=0;p<n;++p)for(var s=0;s<i;++s)for(var c=0;c<f;++c){var v=o.get(p,s,c);v<a||r(c,v,p,s,t,o)&&h.enqueue({score:v,part:{heatmapY:p,heatmapX:s,id:c}})}return h}exports.buildPartWithScoreQueue=a;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":72}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":74}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":82}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":96}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":105}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":107}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":23,"column":24},"generated":{"line":1,"column":109}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":23,"column":39},"generated":{"line":1,"column":111}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":23,"column":57},"generated":{"line":1,"column":113}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":115}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":24,"column":32},"generated":{"line":1,"column":117}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":120}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":124}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":128}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":130}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":132}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":138}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":140}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":142}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":1,"column":145}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":1,"column":147}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":1,"column":149}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":152}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":1,"column":155}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":157}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":159}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":1,"column":164}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":28,"column":26},"generated":{"line":1,"column":168}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":28,"column":37},"generated":{"line":1,"column":170}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":28,"column":57},"generated":{"line":1,"column":172}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":175}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":29,"column":15},"generated":{"line":1,"column":177}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":1,"column":182}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":186}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":29,"column":35},"generated":{"line":1,"column":188}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":29,"column":56},"generated":{"line":1,"column":190}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":29,"column":59},"generated":{"line":1,"column":192}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":195}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":197}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":30,"column":30},"generated":{"line":1,"column":199}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":30,"column":41},"generated":{"line":1,"column":201}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":30,"column":49},"generated":{"line":1,"column":205}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":30,"column":59},"generated":{"line":1,"column":207}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":208}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":212}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":216}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":218}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":1,"column":223}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":227}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":31,"column":39},"generated":{"line":1,"column":229}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":31,"column":59},"generated":{"line":1,"column":231}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":234}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":32,"column":17},"generated":{"line":1,"column":236}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":32,"column":22},"generated":{"line":1,"column":241}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":32,"column":26},"generated":{"line":1,"column":245}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":32,"column":37},"generated":{"line":1,"column":247}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":32,"column":58},"generated":{"line":1,"column":249}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":32,"column":61},"generated":{"line":1,"column":251}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":254}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":256}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":33,"column":32},"generated":{"line":1,"column":258}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":33,"column":43},"generated":{"line":1,"column":260}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":33,"column":51},"generated":{"line":1,"column":264}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":266}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":269}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":34,"column":17},"generated":{"line":1,"column":271}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":34,"column":21},"generated":{"line":1,"column":275}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":34,"column":31},"generated":{"line":1,"column":277}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":34,"column":41},"generated":{"line":1,"column":279}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":34,"column":55},"generated":{"line":1,"column":282}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":284}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":285}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":35,"column":23},"generated":{"line":1,"column":288}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":290}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":296}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":300}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":302}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":308}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":315}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":317}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":52,"column":16},"generated":{"line":1,"column":326}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":328}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":53,"column":28},"generated":{"line":1,"column":330}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":332}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":335}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":339}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":343}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":345}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":347}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":353}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":355}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":357}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":17},"generated":{"line":1,"column":360}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":17},"generated":{"line":1,"column":362}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":17},"generated":{"line":1,"column":364}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":24},"generated":{"line":1,"column":367}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":24},"generated":{"line":1,"column":369}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":55,"column":24},"generated":{"line":1,"column":371}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":374}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":376}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":1,"column":380}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":1,"column":382}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":58,"column":6},"generated":{"line":1,"column":390}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":58,"column":15},"generated":{"line":1,"column":392}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":58,"column":23},"generated":{"line":1,"column":394}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":58,"column":37},"generated":{"line":1,"column":396}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":58,"column":38},"generated":{"line":1,"column":405}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":58,"column":50},"generated":{"line":1,"column":408}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":58,"column":39},"generated":{"line":1,"column":415}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":58,"column":39},"generated":{"line":1,"column":417}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":425}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":60,"column":22},"generated":{"line":1,"column":427}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":60,"column":25},"generated":{"line":1,"column":429}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":60,"column":36},"generated":{"line":1,"column":431}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":60,"column":46},"generated":{"line":1,"column":435}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":61,"column":4},"generated":{"line":1,"column":437}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":61,"column":9},"generated":{"line":1,"column":441}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":1,"column":445}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":61,"column":24},"generated":{"line":1,"column":447}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":61,"column":27},"generated":{"line":1,"column":449}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":61,"column":38},"generated":{"line":1,"column":451}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":61,"column":47},"generated":{"line":1,"column":455}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":457}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":62,"column":11},"generated":{"line":1,"column":461}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":1,"column":465}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":467}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":62,"column":31},"generated":{"line":1,"column":469}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":62,"column":44},"generated":{"line":1,"column":471}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":62,"column":60},"generated":{"line":1,"column":475}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":62,"column":72},"generated":{"line":1,"column":477}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":478}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":63,"column":14},"generated":{"line":1,"column":482}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":63,"column":22},"generated":{"line":1,"column":484}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":63,"column":29},"generated":{"line":1,"column":486}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":63,"column":33},"generated":{"line":1,"column":490}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":63,"column":43},"generated":{"line":1,"column":492}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":63,"column":53},"generated":{"line":1,"column":494}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":67,"column":12},"generated":{"line":1,"column":497}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":67,"column":20},"generated":{"line":1,"column":499}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":72,"column":12},"generated":{"line":1,"column":502}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":73,"column":16},"generated":{"line":1,"column":504}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":73,"column":28},"generated":{"line":1,"column":506}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":73,"column":35},"generated":{"line":1,"column":508}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":73,"column":45},"generated":{"line":1,"column":510}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":73,"column":55},"generated":{"line":1,"column":512}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":74,"column":16},"generated":{"line":1,"column":514}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":10},"generated":{"line":1,"column":518}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":16},"generated":{"line":1,"column":520}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":24},"generated":{"line":1,"column":528}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":25},"generated":{"line":1,"column":529}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":30},"generated":{"line":1,"column":535}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":32},"generated":{"line":1,"column":537}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":38},"generated":{"line":1,"column":542}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":39},"generated":{"line":1,"column":543}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":47},"generated":{"line":1,"column":552}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":49},"generated":{"line":1,"column":554}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":57},"generated":{"line":1,"column":563}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":59},"generated":{"line":1,"column":565}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":75,"column":63},"generated":{"line":1,"column":568}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":573}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":580}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":582}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":590}},{"source":"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":614}}],"sources":{"../../../../../../../src/posenet/calculators/build_part_with_score_queue.ts":"/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nimport * as tf from '@tensorflow/tfjs-core';\r\nimport {PartWithScore} from '../types';\r\n\r\nimport {MaxHeap} from './max_heap';\r\n\r\nfunction scoreIsMaximumInLocalWindow(\r\n    keypointId: number, score: number, heatmapY: number, heatmapX: number,\r\n    localMaximumRadius: number, scores: tf.TensorBuffer<tf.Rank.R3>): boolean {\r\n  const [height, width] = scores.shape;\r\n\r\n  let localMaximum = true;\r\n  const yStart = Math.max(heatmapY - localMaximumRadius, 0);\r\n  const yEnd = Math.min(heatmapY + localMaximumRadius + 1, height);\r\n  for (let yCurrent = yStart; yCurrent < yEnd; ++yCurrent) {\r\n    const xStart = Math.max(heatmapX - localMaximumRadius, 0);\r\n    const xEnd = Math.min(heatmapX + localMaximumRadius + 1, width);\r\n    for (let xCurrent = xStart; xCurrent < xEnd; ++xCurrent) {\r\n      if (scores.get(yCurrent, xCurrent, keypointId) > score) {\r\n        localMaximum = false;\r\n        break;\r\n      }\r\n    }\r\n    if (!localMaximum) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return localMaximum;\r\n}\r\n\r\n/**\r\n * Builds a priority queue with part candidate positions for a specific image in\r\n * the batch. For this we find all local maxima in the score maps with score\r\n * values above a threshold. We create a single priority queue across all parts.\r\n */\r\nexport function buildPartWithScoreQueue(\r\n    scoreThreshold: number, localMaximumRadius: number,\r\n    scores: tf.TensorBuffer<tf.Rank.R3>): MaxHeap<PartWithScore> {\r\n  const [height, width, numKeypoints] = scores.shape;\r\n\r\n  const queue = new MaxHeap<PartWithScore>(\r\n      height * width * numKeypoints, ({score}) => score);\r\n\r\n  for (let heatmapY = 0; heatmapY < height; ++heatmapY) {\r\n    for (let heatmapX = 0; heatmapX < width; ++heatmapX) {\r\n      for (let keypointId = 0; keypointId < numKeypoints; ++keypointId) {\r\n        const score = scores.get(heatmapY, heatmapX, keypointId);\r\n\r\n        // Only consider parts with score greater or equal to threshold as\r\n        // root candidates.\r\n        if (score < scoreThreshold) {\r\n          continue;\r\n        }\r\n\r\n        // Only consider keypoints whose score is maximum in a local window.\r\n        if (scoreIsMaximumInLocalWindow(\r\n                keypointId, score, heatmapY, heatmapX, localMaximumRadius,\r\n                scores)) {\r\n          queue.enqueue({score, part: {heatmapY, heatmapX, id: keypointId}});\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return queue;\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"35901dd57c0ee1860f4c1de3e3b92119","cacheData":{"env":{}}}