{"id":"TPKQ","dependencies":[{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1634211906094},{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634209725400}],"generated":{"js":"\"use strict\";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)};function r(r,n){for(var a=[],o=0,s=r;o<s.length;o++){var e=s[o],i=e.x,c=e.y,h=n.rotation,u=Math.cos(h)*i-Math.sin(h)*c,l=Math.sin(h)*i+Math.cos(h)*c,p=t({},e);p.x=u,p.y=l,a.push(p)}return a}exports.__esModule=!0,exports.calculateWorldLandmarkProjection=r;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":245}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":1,"column":254}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":1,"column":256}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":36,"column":32},"generated":{"line":1,"column":258}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":261}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":265}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":269}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":37,"column":26},"generated":{"line":1,"column":271}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":274}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":276}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":278}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":280}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":282}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":284}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":286}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":293}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":46},"generated":{"line":1,"column":297}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":298}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":13},"generated":{"line":1,"column":302}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":26},"generated":{"line":1,"column":304}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":38,"column":26},"generated":{"line":1,"column":306}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":309}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":39,"column":14},"generated":{"line":1,"column":311}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":1,"column":313}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":40,"column":10},"generated":{"line":1,"column":315}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":40,"column":14},"generated":{"line":1,"column":317}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":40,"column":28},"generated":{"line":1,"column":319}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":321}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":41,"column":18},"generated":{"line":1,"column":323}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":41,"column":28},"generated":{"line":1,"column":325}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":334}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":42,"column":17},"generated":{"line":1,"column":336}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":341}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":345}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":42,"column":35},"generated":{"line":1,"column":348}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":42,"column":39},"generated":{"line":1,"column":350}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":42,"column":44},"generated":{"line":1,"column":355}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":42,"column":48},"generated":{"line":1,"column":359}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":42,"column":57},"generated":{"line":1,"column":362}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":43,"column":10},"generated":{"line":1,"column":364}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":366}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":1,"column":371}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":43,"column":26},"generated":{"line":1,"column":375}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":43,"column":35},"generated":{"line":1,"column":378}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":43,"column":39},"generated":{"line":1,"column":380}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":43,"column":44},"generated":{"line":1,"column":385}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":43,"column":48},"generated":{"line":1,"column":389}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":43,"column":57},"generated":{"line":1,"column":392}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":1,"column":394}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":45,"column":21},"generated":{"line":1,"column":396}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":45,"column":21},"generated":{"line":1,"column":398}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":45,"column":28},"generated":{"line":1,"column":401}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":404}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":1,"column":406}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":47,"column":20},"generated":{"line":1,"column":408}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":410}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":412}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":48,"column":20},"generated":{"line":1,"column":414}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":1,"column":416}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":418}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":423}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":426}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":433}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":457}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":465}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":498}}],"sources":{"node_modules/@tensorflow-models/pose-detection/shared/calculators/calculate_world_landmark_projection.ts":"/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\n\r\nimport {Keypoint} from './interfaces/common_interfaces';\r\nimport {Rect} from './interfaces/shape_interfaces';\r\n\r\n/**\r\n * Projects world landmarks from the rectangle to original coordinates.\r\n *\r\n * World landmarks are predicted in meters rather than in pixels of the image\r\n * and have origin in the middle of the hips rather than in the corner of the\r\n * pose image (cropped with given rectangle). Thus only rotation (but not scale\r\n * and translation) is applied to the landmarks to transform them back to\r\n * original coordinates.\r\n * @param worldLandmarks A Landmark list representing world landmarks in the\r\n *     rectangle.\r\n * @param inputRect A normalized rectangle.\r\n */\r\n// ref:\r\n// https://github.com/google/mediapipe/blob/master/mediapipe/calculators/util/landmark_projection_calculator.cc\r\nexport function calculateWorldLandmarkProjection(\r\n    worldLandmarks: Keypoint[], inputRect: Rect) {\r\n  const outputLandmarks = [];\r\n  for (const worldLandmark of worldLandmarks) {\r\n    const x = worldLandmark.x;\r\n    const y = worldLandmark.y;\r\n    const angle = inputRect.rotation;\r\n    const newX = Math.cos(angle) * x - Math.sin(angle) * y;\r\n    const newY = Math.sin(angle) * x + Math.cos(angle) * y;\r\n\r\n    const newLandmark = {...worldLandmark};\r\n\r\n    newLandmark.x = newX;\r\n    newLandmark.y = newY;\r\n\r\n    outputLandmarks.push(newLandmark);\r\n  }\r\n\r\n  return outputLandmarks;\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"7a9df01949ac1f227aacb4b4f428f413","cacheData":{"env":{}}}