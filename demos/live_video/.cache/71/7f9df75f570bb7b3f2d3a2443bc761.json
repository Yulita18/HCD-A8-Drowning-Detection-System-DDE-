{"id":"s0sW","dependencies":[{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1634211906094},{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634209725400},{"name":"./low_pass_filter","loc":{"line":30,"column":32},"parent":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\visibility_smoothing.ts","resolved":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\low_pass_filter.ts"}],"generated":{"js":"\"use strict\";var i=this&&this.__assign||function(){return(i=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(i[l]=t[l]);return i}).apply(this,arguments)};exports.__esModule=!0;var t=require(\"./low_pass_filter\"),r=function(){function r(i){this.alpha=i.alpha}return r.prototype.apply=function(r){var s=this;if(null==r)return this.visibilityFilters=null,null;null!=this.visibilityFilters&&this.visibilityFilters.length===r.length||(this.visibilityFilters=r.map(function(i){return new t.LowPassFilter(s.alpha)}));for(var l=[],e=0;e<r.length;++e){var n=r[e],a=i({},n);a.score=this.visibilityFilters[e].apply(n.score),l.push(a)}return l},r}();exports.LowPassVisibilityFilter=r;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":267}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":271}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":273}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":281}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":302}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":304}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":315}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":324}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":30,"column":14},"generated":{"line":1,"column":326}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":329}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":334}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":31,"column":17},"generated":{"line":1,"column":340}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":1,"column":342}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":61,"column":0},"generated":{"line":1,"column":348}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":355}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":357}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":367}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":373}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":382}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":385}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":389}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":391}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":396}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":1,"column":399}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":405}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":38,"column":6},"generated":{"line":1,"column":407}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":414}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":419}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":437}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":38,"column":13},"generated":{"line":1,"column":442}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":40,"column":34},"generated":{"line":1,"column":447}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":453}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":458}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":477}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":41,"column":14},"generated":{"line":1,"column":482}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":41,"column":32},"generated":{"line":1,"column":500}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":41,"column":43},"generated":{"line":1,"column":509}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":41,"column":53},"generated":{"line":1,"column":511}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":520}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":525}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":543}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":20},"generated":{"line":1,"column":545}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":24},"generated":{"line":1,"column":549}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":24},"generated":{"line":1,"column":558}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":1,"column":561}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":1,"column":568}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":33},"generated":{"line":1,"column":572}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":33},"generated":{"line":1,"column":574}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":47},"generated":{"line":1,"column":588}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":44,"column":52},"generated":{"line":1,"column":590}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":1,"column":600}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":604}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":47,"column":10},"generated":{"line":1,"column":608}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":47,"column":25},"generated":{"line":1,"column":610}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":1,"column":613}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":50,"column":17},"generated":{"line":1,"column":615}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":617}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":50,"column":24},"generated":{"line":1,"column":619}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":50,"column":34},"generated":{"line":1,"column":621}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":50,"column":44},"generated":{"line":1,"column":630}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":50,"column":47},"generated":{"line":1,"column":632}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":633}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":637}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":51,"column":23},"generated":{"line":1,"column":639}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":51,"column":33},"generated":{"line":1,"column":641}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":644}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":53,"column":23},"generated":{"line":1,"column":646}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":53,"column":23},"generated":{"line":1,"column":648}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":53,"column":30},"generated":{"line":1,"column":651}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":54,"column":6},"generated":{"line":1,"column":654}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":54,"column":18},"generated":{"line":1,"column":656}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":662}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":54,"column":31},"generated":{"line":1,"column":667}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":54,"column":49},"generated":{"line":1,"column":685}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":54,"column":52},"generated":{"line":1,"column":688}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":54,"column":58},"generated":{"line":1,"column":694}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":54,"column":67},"generated":{"line":1,"column":696}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":1,"column":703}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":56,"column":19},"generated":{"line":1,"column":705}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":56,"column":24},"generated":{"line":1,"column":710}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":713}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":720}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":61,"column":0},"generated":{"line":1,"column":723}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":725}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":728}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":736}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":760}}],"sources":{"node_modules/@tensorflow-models/pose-detection/shared/filters/visibility_smoothing.ts":"/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\n\r\nimport {Keypoint} from '../calculators/interfaces/common_interfaces';\r\n\r\nimport {VisibilitySmoothingConfig} from '../calculators/interfaces/config_interfaces';\r\nimport {LowPassFilter} from './low_pass_filter';\r\n\r\n/**\r\n * Smoothing visibility using a `LowPassFilter` for each landmark.\r\n */\r\nexport class LowPassVisibilityFilter {\r\n  private readonly alpha: number;\r\n  private visibilityFilters: LowPassFilter[];\r\n\r\n  constructor(config: VisibilitySmoothingConfig) {\r\n    this.alpha = config.alpha;\r\n  }\r\n\r\n  apply(landmarks?: Keypoint[]): Keypoint[] {\r\n    if (landmarks == null) {\r\n      // Reset filters.\r\n      this.visibilityFilters = null;\r\n      return null;\r\n    }\r\n    if (this.visibilityFilters == null ||\r\n        (this.visibilityFilters.length !== landmarks.length)) {\r\n      // Initialize new filters.\r\n      this.visibilityFilters =\r\n          landmarks.map(_ => new LowPassFilter(this.alpha));\r\n    }\r\n\r\n    const outLandmarks = [];\r\n\r\n    // Filter visibilities.\r\n    for (let i = 0; i < landmarks.length; ++i) {\r\n      const landmark = landmarks[i];\r\n\r\n      const outLandmark = {...landmark};\r\n      outLandmark.score = this.visibilityFilters[i].apply(landmark.score);\r\n\r\n      outLandmarks.push(outLandmark);\r\n    }\r\n\r\n    return outLandmarks;\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"0fa9cc6b5d8f3a77c9a0642bb9705415","cacheData":{"env":{}}}