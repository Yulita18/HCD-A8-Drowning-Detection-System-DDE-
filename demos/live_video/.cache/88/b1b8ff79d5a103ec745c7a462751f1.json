{"id":"WsjR","dependencies":[{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\blazepose_mediapipe\\detector.js.map","includedInParent":true,"mtime":1636860477664},{"name":"C:\\xampp\\htdocs\\pose-detection\\src\\blazepose_mediapipe\\detector.ts","includedInParent":true,"mtime":1634828555452},{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1637137578035},{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634828519177},{"name":"@mediapipe/pose","loc":{"line":54,"column":19},"parent":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\blazepose_mediapipe\\detector.js","resolved":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@mediapipe\\pose\\pose.js"},{"name":"../constants","loc":{"line":55,"column":26},"parent":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\blazepose_mediapipe\\detector.js","resolved":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\constants.js"},{"name":"./detector_utils","loc":{"line":56,"column":31},"parent":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\blazepose_mediapipe\\detector.js","resolved":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\blazepose_mediapipe\\detector_utils.js"}],"generated":{"js":"\"use strict\";var e=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(s,a)}l((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var i=require(\"@mediapipe/pose\"),n=require(\"../constants\"),o=require(\"./detector_utils\"),r=function(){function o(e){var t,n=this;switch(this.width=0,this.height=0,this.selfieMode=!1,this.poseSolution=new i.Pose({locateFile:function(t,i){return e.solutionPath?e.solutionPath.replace(/\\/+$/,\"\")+\"/\"+t:i+\"/\"+t}}),e.modelType){case\"lite\":t=0;break;case\"heavy\":t=2;break;case\"full\":default:t=1}this.poseSolution.setOptions({modelComplexity:t,smoothLandmarks:e.enableSmoothing||!0,selfieMode:this.selfieMode}),this.poseSolution.onResults(function(e){n.height=e.image.height,n.width=e.image.width,null==e.poseLandmarks?n.poses=[]:n.poses=[n.translateOutput(e.poseLandmarks,e.poseWorldLandmarks)]})}return o.prototype.translateOutput=function(e,t){var i=this,o={keypoints:e.map(function(e,t){return{x:e.x*i.width,y:e.y*i.height,z:e.z,score:e.visibility,name:n.BLAZEPOSE_KEYPOINTS[t]}})};return null!=t&&(o.keypoints3D=t.map(function(e,t){return{x:e.x,y:e.y,z:e.z,score:e.visibility,name:n.BLAZEPOSE_KEYPOINTS[t]}})),o},o.prototype.estimatePoses=function(i,n,o){return e(this,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.poseSolution.setOptions({selfieMode:this.selfieMode})),[4,this.poseSolution.send({image:i},o)];case 1:return e.sent(),[2,this.poses]}})})},o.prototype.dispose=function(){this.poseSolution.close()},o.prototype.reset=function(){this.poseSolution.reset()},o.prototype.initialize=function(){return this.poseSolution.initialize()},o}();function s(i){return e(this,void 0,void 0,function(){var e,n;return t(this,function(t){switch(t.label){case 0:return e=o.validateModelConfig(i),[4,(n=new r(e)).initialize()];case 1:return t.sent(),[2,n]}})})}exports.load=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1442}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1446}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1448}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1456}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":1475}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":1477}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":1485}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":1501}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":1503}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":1511}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":1531}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":1533}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":1544}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":1553}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":41,"column":14},"generated":{"line":1,"column":1555}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":1558}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":1,"column":1562}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":1564}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":1566}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":1571}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":1578}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":1583}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":1589}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":1591}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":1596}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":35,"column":19},"generated":{"line":1,"column":1603}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":1605}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":1610}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":1,"column":1622}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":1,"column":1624}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":1629}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":42,"column":24},"generated":{"line":1,"column":1642}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":42,"column":28},"generated":{"line":1,"column":1646}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":42,"column":33},"generated":{"line":1,"column":1648}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":42,"column":38},"generated":{"line":1,"column":1653}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":1654}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":1,"column":1665}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":43,"column":19},"generated":{"line":1,"column":1674}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":43,"column":25},"generated":{"line":1,"column":1676}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":1679}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":1686}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":44,"column":19},"generated":{"line":1,"column":1688}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":45,"column":31},"generated":{"line":1,"column":1701}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":45,"column":38},"generated":{"line":1,"column":1703}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":45,"column":51},"generated":{"line":1,"column":1716}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":45,"column":59},"generated":{"line":1,"column":1724}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":45,"column":67},"generated":{"line":1,"column":1731}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":46,"column":32},"generated":{"line":1,"column":1735}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":46,"column":36},"generated":{"line":1,"column":1739}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":48,"column":18},"generated":{"line":1,"column":1741}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":48,"column":22},"generated":{"line":1,"column":1743}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":48,"column":26},"generated":{"line":1,"column":1747}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":1,"column":1752}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":52,"column":19},"generated":{"line":1,"column":1754}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":53,"column":6},"generated":{"line":1,"column":1765}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":53,"column":11},"generated":{"line":1,"column":1769}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":1776}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":1778}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":1780}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":1,"column":1786}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":1790}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":1798}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":57,"column":26},"generated":{"line":1,"column":1800}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":1802}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":1808}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":1812}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":1819}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":1827}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":61,"column":26},"generated":{"line":1,"column":1829}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":1,"column":1831}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":64,"column":9},"generated":{"line":1,"column":1836}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":64,"column":22},"generated":{"line":1,"column":1849}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":64,"column":33},"generated":{"line":1,"column":1860}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":1,"column":1861}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":1,"column":1877}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":66,"column":6},"generated":{"line":1,"column":1879}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":66,"column":23},"generated":{"line":1,"column":1895}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":66,"column":30},"generated":{"line":1,"column":1897}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":66,"column":49},"generated":{"line":1,"column":1915}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":1,"column":1917}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":67,"column":18},"generated":{"line":1,"column":1928}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":67,"column":23},"generated":{"line":1,"column":1933}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":1946}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":1951}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":69,"column":22},"generated":{"line":1,"column":1964}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":69,"column":32},"generated":{"line":1,"column":1974}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":69,"column":33},"generated":{"line":1,"column":1983}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":70,"column":6},"generated":{"line":1,"column":1986}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":70,"column":11},"generated":{"line":1,"column":1988}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":1995}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":70,"column":28},"generated":{"line":1,"column":1997}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":70,"column":34},"generated":{"line":1,"column":2003}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":71,"column":6},"generated":{"line":1,"column":2010}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":2012}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":71,"column":19},"generated":{"line":1,"column":2018}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":71,"column":27},"generated":{"line":1,"column":2020}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":71,"column":33},"generated":{"line":1,"column":2026}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":72,"column":35},"generated":{"line":1,"column":2032}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":72,"column":10},"generated":{"line":1,"column":2038}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":72,"column":18},"generated":{"line":1,"column":2040}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":2054}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":1,"column":2056}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":73,"column":21},"generated":{"line":1,"column":2062}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":75,"column":8},"generated":{"line":1,"column":2065}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":75,"column":13},"generated":{"line":1,"column":2067}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":75,"column":21},"generated":{"line":1,"column":2073}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":75,"column":22},"generated":{"line":1,"column":2074}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":75,"column":27},"generated":{"line":1,"column":2076}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":2092}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":76,"column":20},"generated":{"line":1,"column":2094}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":76,"column":35},"generated":{"line":1,"column":2108}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":76,"column":43},"generated":{"line":1,"column":2110}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":160,"column":0},"generated":{"line":1,"column":2133}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":81,"column":10},"generated":{"line":1,"column":2140}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":81,"column":10},"generated":{"line":1,"column":2142}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":81,"column":10},"generated":{"line":1,"column":2152}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":2168}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":82,"column":6},"generated":{"line":1,"column":2177}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":82,"column":41},"generated":{"line":1,"column":2179}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":2182}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":2186}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":2188}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":83,"column":10},"generated":{"line":1,"column":2193}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":83,"column":25},"generated":{"line":1,"column":2195}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":84,"column":6},"generated":{"line":1,"column":2196}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":84,"column":17},"generated":{"line":1,"column":2206}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":84,"column":22},"generated":{"line":1,"column":2208}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":1,"column":2212}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":2221}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":84,"column":37},"generated":{"line":1,"column":2223}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":84,"column":43},"generated":{"line":1,"column":2226}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":84,"column":43},"generated":{"line":1,"column":2232}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":85,"column":28},"generated":{"line":1,"column":2233}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":85,"column":31},"generated":{"line":1,"column":2235}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":85,"column":40},"generated":{"line":1,"column":2237}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":85,"column":44},"generated":{"line":1,"column":2239}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":85,"column":49},"generated":{"line":1,"column":2241}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":86,"column":28},"generated":{"line":1,"column":2247}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":86,"column":31},"generated":{"line":1,"column":2249}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":86,"column":40},"generated":{"line":1,"column":2251}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":86,"column":44},"generated":{"line":1,"column":2253}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":86,"column":49},"generated":{"line":1,"column":2255}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":87,"column":28},"generated":{"line":1,"column":2262}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":87,"column":31},"generated":{"line":1,"column":2264}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":87,"column":40},"generated":{"line":1,"column":2266}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":88,"column":28},"generated":{"line":1,"column":2268}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":88,"column":35},"generated":{"line":1,"column":2274}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":88,"column":44},"generated":{"line":1,"column":2276}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":89,"column":28},"generated":{"line":1,"column":2287}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":89,"column":34},"generated":{"line":1,"column":2292}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":89,"column":34},"generated":{"line":1,"column":2294}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":89,"column":54},"generated":{"line":1,"column":2314}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":1,"column":2321}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":93,"column":18},"generated":{"line":1,"column":2328}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":2334}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":94,"column":6},"generated":{"line":1,"column":2338}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":94,"column":13},"generated":{"line":1,"column":2340}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":94,"column":27},"generated":{"line":1,"column":2352}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":94,"column":34},"generated":{"line":1,"column":2354}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":94,"column":38},"generated":{"line":1,"column":2358}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":94,"column":39},"generated":{"line":1,"column":2367}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":94,"column":49},"generated":{"line":1,"column":2369}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":94,"column":55},"generated":{"line":1,"column":2372}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":94,"column":55},"generated":{"line":1,"column":2378}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":95,"column":40},"generated":{"line":1,"column":2379}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":95,"column":43},"generated":{"line":1,"column":2381}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":95,"column":52},"generated":{"line":1,"column":2383}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":96,"column":40},"generated":{"line":1,"column":2385}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":96,"column":43},"generated":{"line":1,"column":2387}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":96,"column":52},"generated":{"line":1,"column":2389}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":97,"column":40},"generated":{"line":1,"column":2391}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":97,"column":43},"generated":{"line":1,"column":2393}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":97,"column":52},"generated":{"line":1,"column":2395}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":98,"column":40},"generated":{"line":1,"column":2397}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":98,"column":47},"generated":{"line":1,"column":2403}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":98,"column":56},"generated":{"line":1,"column":2405}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":99,"column":40},"generated":{"line":1,"column":2416}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":99,"column":46},"generated":{"line":1,"column":2421}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":99,"column":46},"generated":{"line":1,"column":2423}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":99,"column":66},"generated":{"line":1,"column":2443}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":2450}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":134,"column":8},"generated":{"line":1,"column":2453}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":134,"column":8},"generated":{"line":1,"column":2455}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":134,"column":8},"generated":{"line":1,"column":2465}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":134,"column":2},"generated":{"line":1,"column":2479}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":135,"column":6},"generated":{"line":1,"column":2488}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":136,"column":6},"generated":{"line":1,"column":2490}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":137,"column":6},"generated":{"line":1,"column":2492}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":1,"column":2583}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":138,"column":8},"generated":{"line":1,"column":2590}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":138,"column":28},"generated":{"line":1,"column":2593}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":138,"column":45},"generated":{"line":1,"column":2595}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":139,"column":9},"generated":{"line":1,"column":2611}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":139,"column":26},"generated":{"line":1,"column":2613}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":139,"column":45},"generated":{"line":1,"column":2630}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":139,"column":50},"generated":{"line":1,"column":2635}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":140,"column":6},"generated":{"line":1,"column":2648}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":140,"column":11},"generated":{"line":1,"column":2653}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":140,"column":24},"generated":{"line":1,"column":2664}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":140,"column":41},"generated":{"line":1,"column":2666}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":141,"column":6},"generated":{"line":1,"column":2681}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":141,"column":11},"generated":{"line":1,"column":2686}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":141,"column":24},"generated":{"line":1,"column":2699}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":141,"column":35},"generated":{"line":1,"column":2710}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":142,"column":8},"generated":{"line":1,"column":2711}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":142,"column":20},"generated":{"line":1,"column":2722}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":142,"column":25},"generated":{"line":1,"column":2727}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":1,"column":2741}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":1,"column":2742}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":10},"generated":{"line":1,"column":2744}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":15},"generated":{"line":1,"column":2749}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":28},"generated":{"line":1,"column":2762}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":33},"generated":{"line":1,"column":2767}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":34},"generated":{"line":1,"column":2768}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":41},"generated":{"line":1,"column":2774}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":68},"generated":{"line":1,"column":2777}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":146,"column":4},"generated":{"line":1,"column":2788}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":1,"column":2795}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":1,"column":2797}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":146,"column":4},"generated":{"line":1,"column":2804}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":146,"column":4},"generated":{"line":1,"column":2805}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":146,"column":11},"generated":{"line":1,"column":2807}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":146,"column":16},"generated":{"line":1,"column":2812}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":149,"column":2},"generated":{"line":1,"column":2825}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":149,"column":2},"generated":{"line":1,"column":2827}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":149,"column":2},"generated":{"line":1,"column":2837}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":149,"column":2},"generated":{"line":1,"column":2845}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":150,"column":4},"generated":{"line":1,"column":2856}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":150,"column":9},"generated":{"line":1,"column":2861}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":150,"column":22},"generated":{"line":1,"column":2874}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":153,"column":2},"generated":{"line":1,"column":2883}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":153,"column":2},"generated":{"line":1,"column":2885}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":153,"column":2},"generated":{"line":1,"column":2895}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":153,"column":2},"generated":{"line":1,"column":2901}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":154,"column":4},"generated":{"line":1,"column":2912}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":154,"column":9},"generated":{"line":1,"column":2917}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":154,"column":22},"generated":{"line":1,"column":2930}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":157,"column":2},"generated":{"line":1,"column":2939}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":157,"column":2},"generated":{"line":1,"column":2941}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":157,"column":2},"generated":{"line":1,"column":2951}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":157,"column":2},"generated":{"line":1,"column":2962}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":158,"column":4},"generated":{"line":1,"column":2973}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":158,"column":11},"generated":{"line":1,"column":2980}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":158,"column":16},"generated":{"line":1,"column":2985}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":158,"column":29},"generated":{"line":1,"column":2998}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":160,"column":0},"generated":{"line":1,"column":3012}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":3014}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":169,"column":0},"generated":{"line":1,"column":3017}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":169,"column":22},"generated":{"line":1,"column":3026}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":169,"column":27},"generated":{"line":1,"column":3028}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":3127}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":171,"column":8},"generated":{"line":1,"column":3134}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":171,"column":17},"generated":{"line":1,"column":3136}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":171,"column":17},"generated":{"line":1,"column":3138}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":171,"column":37},"generated":{"line":1,"column":3158}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":3161}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":3162}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":172,"column":8},"generated":{"line":1,"column":3165}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":172,"column":17},"generated":{"line":1,"column":3167}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":172,"column":21},"generated":{"line":1,"column":3171}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":172,"column":48},"generated":{"line":1,"column":3173}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":173,"column":15},"generated":{"line":1,"column":3177}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":174,"column":2},"generated":{"line":1,"column":3198}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":3205}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":3207}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":174,"column":2},"generated":{"line":1,"column":3214}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":174,"column":2},"generated":{"line":1,"column":3215}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":174,"column":9},"generated":{"line":1,"column":3217}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":169,"column":0},"generated":{"line":1,"column":3225}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":169,"column":0},"generated":{"line":1,"column":3233}},{"source":"../../../../../../src/blazepose_mediapipe/detector.ts","name":null,"original":{"line":169,"column":0},"generated":{"line":1,"column":3238}}],"sources":{"../../../../../../src/blazepose_mediapipe/detector.ts":"/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nimport * as pose from '@mediapipe/pose';\r\nimport {BLAZEPOSE_KEYPOINTS} from '../constants';\r\n\r\nimport {PoseDetector} from '../pose_detector';\r\nimport {Pose, PoseDetectorInput} from '../types';\r\nimport {validateModelConfig} from './detector_utils';\r\n\r\nimport {BlazePoseMediaPipeEstimationConfig, BlazePoseMediaPipeModelConfig} from './types';\r\n\r\n/**\r\n * MediaPipe detector class.\r\n */\r\nclass BlazePoseMediaPipeDetector implements PoseDetector {\r\n  private readonly poseSolution: pose.Pose;\r\n\r\n  // This will be filled out by asynchronous calls to onResults. They will be\r\n  // stable after `await send` is called on the pose solution.\r\n  private width = 0;\r\n  private height = 0;\r\n  private poses: Pose[];\r\n\r\n  private selfieMode = false;\r\n\r\n  // Should not be called outside.\r\n  constructor(config: BlazePoseMediaPipeModelConfig) {\r\n    this.poseSolution = new pose.Pose({\r\n      locateFile: (path, base) => {\r\n        if (config.solutionPath) {\r\n          const solutionPath = config.solutionPath.replace(/\\/+$/, '');\r\n          return `${solutionPath}/${path}`;\r\n        }\r\n        return `${base}/${path}`;\r\n      }\r\n    });\r\n    let modelComplexity: 0|1|2;\r\n    switch (config.modelType) {\r\n      case 'lite':\r\n        modelComplexity = 0;\r\n        break;\r\n      case 'heavy':\r\n        modelComplexity = 2;\r\n        break;\r\n      case 'full':\r\n      default:\r\n        modelComplexity = 1;\r\n        break;\r\n    }\r\n    this.poseSolution.setOptions({\r\n      modelComplexity,\r\n      smoothLandmarks: config.enableSmoothing || true,\r\n      selfieMode: this.selfieMode,\r\n    });\r\n    this.poseSolution.onResults((results) => {\r\n      this.height = results.image.height;\r\n      this.width = results.image.width;\r\n      if (results.poseLandmarks == null) {\r\n        this.poses = [];\r\n      } else {\r\n        this.poses = [this.translateOutput(\r\n            results.poseLandmarks, results.poseWorldLandmarks)];\r\n      }\r\n    });\r\n  }\r\n\r\n  private translateOutput(\r\n      pose: pose.NormalizedLandmarkList, pose3D?: pose.LandmarkList): Pose {\r\n    const output: Pose = {\r\n      keypoints: pose.map((landmark, i) => ({\r\n                            x: landmark.x * this.width,\r\n                            y: landmark.y * this.height,\r\n                            z: landmark.z,\r\n                            score: landmark.visibility,\r\n                            name: BLAZEPOSE_KEYPOINTS[i]\r\n                          }))\r\n    };\r\n\r\n    if (pose3D != null) {\r\n      output.keypoints3D = pose3D.map((landmark, i) => ({\r\n                                        x: landmark.x,\r\n                                        y: landmark.y,\r\n                                        z: landmark.z,\r\n                                        score: landmark.visibility,\r\n                                        name: BLAZEPOSE_KEYPOINTS[i]\r\n                                      }));\r\n    }\r\n\r\n    return output;\r\n  }\r\n\r\n  /**\r\n   * Estimates poses for an image or video frame.\r\n   *\r\n   * It returns a single pose or multiple poses based on the maxPose parameter\r\n   * from the `config`.\r\n   *\r\n   * @param image\r\n   * ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement The input\r\n   * image to feed through the network.\r\n   *\r\n   * @param config Optional.\r\n   *       maxPoses: Optional. Max number of poses to estimate.\r\n   *       When maxPoses = 1, a single pose is detected, it is usually much more\r\n   *       efficient than maxPoses > 1. When maxPoses > 1, multiple poses are\r\n   *       detected.\r\n   *\r\n   *       flipHorizontal: Optional. Default to false. When image data comes\r\n   *       from camera, the result has to flip horizontally.\r\n   *\r\n   *       enableSmoothing: Optional. Default to true. Smooth pose landmarks\r\n   *       coordinates and visibility scores to reduce jitter.\r\n   *\r\n   * @param timestamp Optional. In milliseconds. This is useful when image is\r\n   *     a tensor, which doesn't have timestamp info. Or to override timestamp\r\n   *     in a video.\r\n   *\r\n   * @return An array of `Pose`s.\r\n   */\r\n  async estimatePoses(\r\n      image: PoseDetectorInput,\r\n      estimationConfig: BlazePoseMediaPipeEstimationConfig,\r\n      timestamp?: number): Promise<Pose[]> {\r\n    if (estimationConfig && estimationConfig.flipHorizontal &&\r\n        (estimationConfig.flipHorizontal !== this.selfieMode)) {\r\n      this.selfieMode = estimationConfig.flipHorizontal;\r\n      this.poseSolution.setOptions({\r\n        selfieMode: this.selfieMode,\r\n      });\r\n    }\r\n    await this.poseSolution.send({image: image as pose.InputImage}, timestamp);\r\n    return this.poses;\r\n  }\r\n\r\n  dispose() {\r\n    this.poseSolution.close();\r\n  }\r\n\r\n  reset() {\r\n    this.poseSolution.reset();\r\n  }\r\n\r\n  initialize(): Promise<void> {\r\n    return this.poseSolution.initialize();\r\n  }\r\n}\r\n\r\n/**\r\n * Loads the MediaPipe solution.\r\n *\r\n * @param modelConfig ModelConfig object that contains parameters for\r\n * the BlazePose loading process. Please find more details of each parameters\r\n * in the documentation of the `BlazePoseMediaPipeModelConfig` interface.\r\n */\r\nexport async function load(modelConfig: BlazePoseMediaPipeModelConfig):\r\n    Promise<PoseDetector> {\r\n  const config = validateModelConfig(modelConfig);\r\n  const result = new BlazePoseMediaPipeDetector(config);\r\n  await result.initialize();\r\n  return result;\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"846242e41a7a1038b23435ca66763b0b","cacheData":{"env":{}}}