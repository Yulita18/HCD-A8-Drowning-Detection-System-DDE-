{"id":"ff23","dependencies":[{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1634211906094},{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634209725400},{"name":"./relative_velocity_filter","loc":{"line":14,"column":41},"parent":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\keypoints_velocity_filter.ts","resolved":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\relative_velocity_filter.ts"}],"generated":{"js":"\"use strict\";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var i,e=1,r=arguments.length;e<r;e++)for(var l in i=arguments[e])Object.prototype.hasOwnProperty.call(i,l)&&(t[l]=i[l]);return t}).apply(this,arguments)};exports.__esModule=!0;var i=require(\"./relative_velocity_filter\"),e=function(){function e(t){this.config=t}return e.prototype.apply=function(i,e,r){var l=this;if(null==i)return this.reset(),null;var n=1;if(!this.config.disableValueScaling){if(r<this.config.minAllowedObjectScale)return i.slice();n=1/r}return this.initializeFiltersIfEmpty(i),i.map(function(i,r){var s=t({},i,{x:l.xFilters[r].apply(i.x,e,n),y:l.yFilters[r].apply(i.y,e,n)});return null!=i.z&&(s.z=l.zFilters[r].apply(i.z,e,n)),s})},e.prototype.reset=function(){this.xFilters=null,this.yFilters=null,this.zFilters=null},e.prototype.initializeFiltersIfEmpty=function(t){var e=this;null!=this.xFilters&&this.xFilters.length===t.length||(this.xFilters=t.map(function(t){return new i.RelativeVelocityFilter(e.config)}),this.yFilters=t.map(function(t){return new i.RelativeVelocityFilter(e.config)}),this.zFilters=t.map(function(t){return new i.RelativeVelocityFilter(e.config)}))},e}();exports.KeypointsVelocityFilter=e;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":267}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":271}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":273}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":281}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":311}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":313}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":324}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":333}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":35,"column":31},"generated":{"line":1,"column":335}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":35,"column":31},"generated":{"line":1,"column":338}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":35,"column":31},"generated":{"line":1,"column":343}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":35,"column":31},"generated":{"line":1,"column":350}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":92,"column":0},"generated":{"line":1,"column":352}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":359}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":361}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":371}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":377}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":386}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":388}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":53},"generated":{"line":1,"column":390}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":393}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":397}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":399}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":404}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":39,"column":21},"generated":{"line":1,"column":407}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":413}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":415}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":422}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":427}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":435}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":440}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":444}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":46,"column":21},"generated":{"line":1,"column":446}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":448}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":47,"column":9},"generated":{"line":1,"column":452}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":47,"column":14},"generated":{"line":1,"column":457}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":47,"column":21},"generated":{"line":1,"column":464}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":47,"column":42},"generated":{"line":1,"column":484}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":485}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":488}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":48,"column":24},"generated":{"line":1,"column":490}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":48,"column":29},"generated":{"line":1,"column":495}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":48,"column":36},"generated":{"line":1,"column":502}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":524}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":531}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":49,"column":28},"generated":{"line":1,"column":533}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":541}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":51,"column":19},"generated":{"line":1,"column":543}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":51,"column":23},"generated":{"line":1,"column":545}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":547}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":554}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":559}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":55,"column":34},"generated":{"line":1,"column":584}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":58,"column":11},"generated":{"line":1,"column":587}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":58,"column":21},"generated":{"line":1,"column":589}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":58,"column":25},"generated":{"line":1,"column":593}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":58,"column":26},"generated":{"line":1,"column":602}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":58,"column":36},"generated":{"line":1,"column":604}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":607}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":1,"column":611}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":59,"column":23},"generated":{"line":1,"column":613}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":59,"column":23},"generated":{"line":1,"column":615}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":618}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":60,"column":19},"generated":{"line":1,"column":620}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":621}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":61,"column":11},"generated":{"line":1,"column":623}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":1,"column":625}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":61,"column":25},"generated":{"line":1,"column":634}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":61,"column":28},"generated":{"line":1,"column":637}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":61,"column":34},"generated":{"line":1,"column":643}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":61,"column":43},"generated":{"line":1,"column":645}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":61,"column":46},"generated":{"line":1,"column":647}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":61,"column":60},"generated":{"line":1,"column":649}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":652}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":62,"column":11},"generated":{"line":1,"column":654}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":656}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":62,"column":25},"generated":{"line":1,"column":665}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":668}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":62,"column":34},"generated":{"line":1,"column":674}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":62,"column":43},"generated":{"line":1,"column":676}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":62,"column":46},"generated":{"line":1,"column":678}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":62,"column":60},"generated":{"line":1,"column":680}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":70,"column":6},"generated":{"line":1,"column":685}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":65,"column":24},"generated":{"line":1,"column":692}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":698}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":65,"column":19},"generated":{"line":1,"column":700}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":704}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":66,"column":20},"generated":{"line":1,"column":706}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":67,"column":12},"generated":{"line":1,"column":708}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":67,"column":17},"generated":{"line":1,"column":710}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":67,"column":26},"generated":{"line":1,"column":719}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":67,"column":29},"generated":{"line":1,"column":722}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":67,"column":35},"generated":{"line":1,"column":728}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":67,"column":44},"generated":{"line":1,"column":730}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":67,"column":47},"generated":{"line":1,"column":732}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":67,"column":61},"generated":{"line":1,"column":734}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":1,"column":738}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":74,"column":2},"generated":{"line":1,"column":743}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":74,"column":2},"generated":{"line":1,"column":745}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":74,"column":2},"generated":{"line":1,"column":755}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":74,"column":2},"generated":{"line":1,"column":761}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":1,"column":772}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":777}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":75,"column":20},"generated":{"line":1,"column":786}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":1,"column":791}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":76,"column":9},"generated":{"line":1,"column":796}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":76,"column":20},"generated":{"line":1,"column":805}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":1,"column":810}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":77,"column":9},"generated":{"line":1,"column":815}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":77,"column":20},"generated":{"line":1,"column":824}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":82,"column":10},"generated":{"line":1,"column":830}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":82,"column":10},"generated":{"line":1,"column":832}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":82,"column":10},"generated":{"line":1,"column":842}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":867}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":82,"column":35},"generated":{"line":1,"column":876}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":879}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":883}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":885}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":83,"column":25},"generated":{"line":1,"column":890}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":83,"column":8},"generated":{"line":1,"column":896}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":83,"column":13},"generated":{"line":1,"column":901}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":83,"column":33},"generated":{"line":1,"column":911}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":83,"column":38},"generated":{"line":1,"column":916}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":83,"column":47},"generated":{"line":1,"column":925}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":83,"column":58},"generated":{"line":1,"column":934}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":83,"column":68},"generated":{"line":1,"column":936}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":84,"column":6},"generated":{"line":1,"column":945}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":84,"column":11},"generated":{"line":1,"column":950}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":10},"generated":{"line":1,"column":959}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":20},"generated":{"line":1,"column":961}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":24},"generated":{"line":1,"column":965}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":24},"generated":{"line":1,"column":974}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":29},"generated":{"line":1,"column":977}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":29},"generated":{"line":1,"column":984}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":33},"generated":{"line":1,"column":988}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":33},"generated":{"line":1,"column":990}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":56},"generated":{"line":1,"column":1013}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":85,"column":61},"generated":{"line":1,"column":1015}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":1,"column":1025}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":1,"column":1030}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":1,"column":1039}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":20},"generated":{"line":1,"column":1041}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":24},"generated":{"line":1,"column":1045}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":24},"generated":{"line":1,"column":1054}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":29},"generated":{"line":1,"column":1057}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":29},"generated":{"line":1,"column":1064}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":33},"generated":{"line":1,"column":1068}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":33},"generated":{"line":1,"column":1070}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":56},"generated":{"line":1,"column":1093}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":87,"column":61},"generated":{"line":1,"column":1095}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":88,"column":6},"generated":{"line":1,"column":1105}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":1,"column":1110}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":10},"generated":{"line":1,"column":1119}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1121}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":24},"generated":{"line":1,"column":1125}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":24},"generated":{"line":1,"column":1134}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":29},"generated":{"line":1,"column":1137}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":29},"generated":{"line":1,"column":1144}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":33},"generated":{"line":1,"column":1148}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":33},"generated":{"line":1,"column":1150}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":56},"generated":{"line":1,"column":1173}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":89,"column":61},"generated":{"line":1,"column":1175}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":92,"column":0},"generated":{"line":1,"column":1187}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1189}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":1,"column":1192}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":1,"column":1200}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":1,"column":1224}}],"sources":{"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.ts":"/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nimport {Keypoint, KeypointsFilter} from '../calculators/interfaces/common_interfaces';\r\nimport {VelocityFilterConfig} from '../calculators/interfaces/config_interfaces';\r\nimport {RelativeVelocityFilter} from './relative_velocity_filter';\r\n\r\n/**\r\n * A stateful filter that smoothes landmark values overtime.\r\n *\r\n * More specifically, it uses `RelativeVelocityFilter` to smooth every x, y, z\r\n * coordinates over time, which as result gives us velocity of how these values\r\n * change over time. With higher velocity it weights new values higher.\r\n */\r\n// ref:\r\n// https://github.com/google/mediapipe/blob/master/mediapipe/calculators/util/landmarks_smoothing_calculator.cc\r\nexport class KeypointsVelocityFilter implements KeypointsFilter {\r\n  private xFilters: RelativeVelocityFilter[];\r\n  private yFilters: RelativeVelocityFilter[];\r\n  private zFilters: RelativeVelocityFilter[];\r\n\r\n  constructor(private readonly config: VelocityFilterConfig) {}\r\n\r\n  apply(keypoints: Keypoint[], microSeconds: number, objectScale: number):\r\n      Keypoint[] {\r\n    if (keypoints == null) {\r\n      this.reset();\r\n      return null;\r\n    }\r\n    // Get value scale as inverse value of the object scale.\r\n    // If value is too small smoothing will be disabled and keypoints will be\r\n    // returned as is.\r\n    let valueScale = 1;\r\n    if (!this.config.disableValueScaling) {\r\n      if (objectScale < this.config.minAllowedObjectScale) {\r\n        return [...keypoints];\r\n      }\r\n      valueScale = 1 / objectScale;\r\n    }\r\n\r\n    // Initialize filters once.\r\n    this.initializeFiltersIfEmpty(keypoints);\r\n\r\n    // Filter keypoints. Every axis of every keypoint is filtered separately.\r\n    return keypoints.map((keypoint, i) => {\r\n      const outKeypoint = {\r\n        ...keypoint,\r\n        x: this.xFilters[i].apply(keypoint.x, microSeconds, valueScale),\r\n        y: this.yFilters[i].apply(keypoint.y, microSeconds, valueScale),\r\n      };\r\n\r\n      if (keypoint.z != null) {\r\n        outKeypoint.z =\r\n            this.zFilters[i].apply(keypoint.z, microSeconds, valueScale);\r\n      }\r\n\r\n      return outKeypoint;\r\n    });\r\n  }\r\n\r\n  reset() {\r\n    this.xFilters = null;\r\n    this.yFilters = null;\r\n    this.zFilters = null;\r\n  }\r\n\r\n  // Initializes filters for the first time or after reset. If initialized the\r\n  // check the size.\r\n  private initializeFiltersIfEmpty(keypoints: Keypoint[]) {\r\n    if (this.xFilters == null || this.xFilters.length !== keypoints.length) {\r\n      this.xFilters =\r\n          keypoints.map(_ => new RelativeVelocityFilter(this.config));\r\n      this.yFilters =\r\n          keypoints.map(_ => new RelativeVelocityFilter(this.config));\r\n      this.zFilters =\r\n          keypoints.map(_ => new RelativeVelocityFilter(this.config));\r\n    }\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"770e9c5383cd854fe6c8e574b52c5d45","cacheData":{"env":{}}}