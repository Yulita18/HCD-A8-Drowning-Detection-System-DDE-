{"id":"xZ3A","dependencies":[{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1634211906094},{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634209725400},{"name":"./image_utils","loc":{"line":19,"column":28},"parent":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\shared\\calculators\\detection_to_rect.ts","resolved":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\shared\\calculators\\image_utils.ts"}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=require(\"./image_utils\");function e(e,o,r){var a,i=e.locationData,n=r.rotationVectorStartKeypointIndex,l=r.rotationVectorEndKeypointIndex;a=r.rotationVectorTargetAngle?r.rotationVectorTargetAngle:Math.PI*r.rotationVectorTargetAngleDegree/180;var s=i.relativeKeypoints[n].x*o.width,g=i.relativeKeypoints[n].y*o.height,c=i.relativeKeypoints[l].x*o.width,p=i.relativeKeypoints[l].y*o.height;return t.normalizeRadians(a-Math.atan2(-(p-g),c-s))}exports.computeRotation=e;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":39}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":41}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":49}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":66}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":75}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":77}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":1,"column":79}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":26,"column":48},"generated":{"line":1,"column":81}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":84}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":88}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":90}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":92}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":27,"column":33},"generated":{"line":1,"column":94}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":107}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":109}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":28,"column":31},"generated":{"line":1,"column":111}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":144}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":1,"column":146}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":29,"column":29},"generated":{"line":1,"column":148}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":179}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":181}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":183}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":209}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":34,"column":25},"generated":{"line":1,"column":211}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":36,"column":18},"generated":{"line":1,"column":237}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":1,"column":242}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":36,"column":28},"generated":{"line":1,"column":245}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":36,"column":35},"generated":{"line":1,"column":247}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":36,"column":69},"generated":{"line":1,"column":279}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":283}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":287}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":289}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":39,"column":26},"generated":{"line":1,"column":291}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":39,"column":44},"generated":{"line":1,"column":309}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":39,"column":59},"generated":{"line":1,"column":312}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":39,"column":63},"generated":{"line":1,"column":314}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":39,"column":73},"generated":{"line":1,"column":316}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":322}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":324}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":40,"column":26},"generated":{"line":1,"column":326}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":40,"column":44},"generated":{"line":1,"column":344}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":40,"column":59},"generated":{"line":1,"column":347}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":40,"column":63},"generated":{"line":1,"column":349}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":40,"column":73},"generated":{"line":1,"column":351}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":358}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":360}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":41,"column":26},"generated":{"line":1,"column":362}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":41,"column":44},"generated":{"line":1,"column":380}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":41,"column":57},"generated":{"line":1,"column":383}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":41,"column":61},"generated":{"line":1,"column":385}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":41,"column":71},"generated":{"line":1,"column":387}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":393}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":395}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":397}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":42,"column":44},"generated":{"line":1,"column":415}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":42,"column":57},"generated":{"line":1,"column":418}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":42,"column":61},"generated":{"line":1,"column":420}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":42,"column":71},"generated":{"line":1,"column":422}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":429}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":45,"column":6},"generated":{"line":1,"column":436}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":45,"column":6},"generated":{"line":1,"column":438}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":45,"column":23},"generated":{"line":1,"column":455}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":45,"column":37},"generated":{"line":1,"column":457}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":45,"column":42},"generated":{"line":1,"column":462}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":45,"column":50},"generated":{"line":1,"column":470}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":45,"column":55},"generated":{"line":1,"column":472}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":45,"column":60},"generated":{"line":1,"column":475}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":45,"column":65},"generated":{"line":1,"column":477}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":481}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":489}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":505}}],"sources":{"node_modules/@tensorflow-models/pose-detection/shared/calculators/detection_to_rect.ts":"/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\n\r\nimport {normalizeRadians} from './image_utils';\r\nimport {ImageSize} from './interfaces/common_interfaces';\r\nimport {DetectionToRectConfig} from './interfaces/config_interfaces';\r\nimport {Detection} from './interfaces/shape_interfaces';\r\n\r\n// ref:\r\n// https://github.com/google/mediapipe/blob/master/mediapipe/calculators/util/detections_to_rects_calculator.cc\r\nexport function computeRotation(\r\n    detection: Detection, imageSize: ImageSize, config: DetectionToRectConfig) {\r\n  const locationData = detection.locationData;\r\n  const startKeypoint = config.rotationVectorStartKeypointIndex;\r\n  const endKeypoint = config.rotationVectorEndKeypointIndex;\r\n\r\n  let targetAngle;\r\n\r\n  if (config.rotationVectorTargetAngle) {\r\n    targetAngle = config.rotationVectorTargetAngle;\r\n  } else {\r\n    targetAngle = Math.PI * config.rotationVectorTargetAngleDegree / 180;\r\n  }\r\n\r\n  const x0 = locationData.relativeKeypoints[startKeypoint].x * imageSize.width;\r\n  const y0 = locationData.relativeKeypoints[startKeypoint].y * imageSize.height;\r\n  const x1 = locationData.relativeKeypoints[endKeypoint].x * imageSize.width;\r\n  const y1 = locationData.relativeKeypoints[endKeypoint].y * imageSize.height;\r\n\r\n  const rotation =\r\n      normalizeRadians(targetAngle - Math.atan2(-(y1 - y0), x1 - x0));\r\n\r\n  return rotation;\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"4bec663339279425bef5f34cf90753b6","cacheData":{"env":{}}}