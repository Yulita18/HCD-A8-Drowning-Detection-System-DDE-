{"id":"YdUv","dependencies":[{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1634211906094},{"name":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634209725400},{"name":"@tensorflow/tfjs-core","loc":{"line":61,"column":30},"parent":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\shared\\calculators\\non_max_suppression.ts","resolved":"C:\\xampp\\htdocs\\tfjs-models\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow\\tfjs-core\\dist\\index.js"}],"generated":{"js":"\"use strict\";var n=this&&this.__awaiter||function(n,t,e,r){return new(e||(e=Promise))(function(o,i){function a(n){try{l(r.next(n))}catch(t){i(t)}}function u(n){try{l(r.throw(n))}catch(t){i(t)}}function l(n){n.done?o(n.value):new e(function(t){t(n.value)}).then(a,u)}l((r=r.apply(n,t||[])).next())})},t=this&&this.__generator||function(n,t){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(n,a)}catch(u){i=[6,u],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},e=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};exports.__esModule=!0;var r=e(require(\"@tensorflow/tfjs-core\"));function o(e,o,i,a){return n(this,void 0,Promise,function(){var n,u,l,c,s;return t(this,function(t){switch(t.label){case 0:return n=r.tensor2d(e.map(function(n){return[n.locationData.relativeBoundingBox.yMin,n.locationData.relativeBoundingBox.xMin,n.locationData.relativeBoundingBox.yMax,n.locationData.relativeBoundingBox.xMax]})),u=r.tensor1d(e.map(function(n){return n.score[0]})),[4,r.image.nonMaxSuppressionAsync(n,u,o,i,a)];case 1:return[4,(l=t.sent()).array()];case 2:return c=t.sent(),s=e.filter(function(n,t){return c.indexOf(t)>-1}),r.dispose([n,u,l]),[2,s]}})})}exports.nonMaxSuppression=o;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1578}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1582}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1584}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1586}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1594}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1620}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":20,"column":22},"generated":{"line":1,"column":1629}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":1631}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":21,"column":29},"generated":{"line":1,"column":1633}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":21,"column":47},"generated":{"line":1,"column":1635}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":1637}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":1661}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":22,"column":36},"generated":{"line":1,"column":1669}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":1743}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":1750}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":23,"column":27},"generated":{"line":1,"column":1752}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":23,"column":30},"generated":{"line":1,"column":1754}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":23,"column":39},"generated":{"line":1,"column":1763}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":23,"column":50},"generated":{"line":1,"column":1765}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":1769}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":1778}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":1781}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":1787}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":1788}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":1,"column":1790}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":25,"column":26},"generated":{"line":1,"column":1803}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":25,"column":46},"generated":{"line":1,"column":1823}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":1828}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":1830}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":1,"column":1843}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":26,"column":46},"generated":{"line":1,"column":1863}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":1868}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":1870}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":27,"column":26},"generated":{"line":1,"column":1883}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":27,"column":46},"generated":{"line":1,"column":1903}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":28,"column":11},"generated":{"line":1,"column":1908}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":1910}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":28,"column":26},"generated":{"line":1,"column":1923}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":28,"column":46},"generated":{"line":1,"column":1943}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":1952}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":1954}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":1,"column":1956}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":35},"generated":{"line":1,"column":1965}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":46},"generated":{"line":1,"column":1967}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":50},"generated":{"line":1,"column":1971}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":50},"generated":{"line":1,"column":1980}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":55},"generated":{"line":1,"column":1983}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":55},"generated":{"line":1,"column":1990}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":57},"generated":{"line":1,"column":1992}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":29,"column":63},"generated":{"line":1,"column":1998}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":2004}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":2005}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":31,"column":34},"generated":{"line":1,"column":2007}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":31,"column":37},"generated":{"line":1,"column":2009}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":31,"column":43},"generated":{"line":1,"column":2015}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":32,"column":6},"generated":{"line":1,"column":2038}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":32,"column":24},"generated":{"line":1,"column":2040}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":32,"column":38},"generated":{"line":1,"column":2042}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":32,"column":48},"generated":{"line":1,"column":2044}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":32,"column":62},"generated":{"line":1,"column":2046}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":2057}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":2063}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":2064}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":2067}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":2069}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":2071}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":33,"column":46},"generated":{"line":1,"column":2079}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":2095}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":2102}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":2104}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":2106}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":2113}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":2115}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":17},"generated":{"line":1,"column":2117}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":24},"generated":{"line":1,"column":2124}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":25},"generated":{"line":1,"column":2133}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":28},"generated":{"line":1,"column":2135}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":34},"generated":{"line":1,"column":2138}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":35},"generated":{"line":1,"column":2145}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":47},"generated":{"line":1,"column":2147}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":55},"generated":{"line":1,"column":2155}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":36,"column":61},"generated":{"line":1,"column":2159}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":2163}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":38,"column":5},"generated":{"line":1,"column":2165}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":38,"column":13},"generated":{"line":1,"column":2173}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":38,"column":14},"generated":{"line":1,"column":2174}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":38,"column":32},"generated":{"line":1,"column":2176}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":38,"column":46},"generated":{"line":1,"column":2178}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":2182}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":2183}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":2185}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":2193}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":2201}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":2219}}],"sources":{"node_modules/@tensorflow-models/pose-detection/shared/calculators/non_max_suppression.ts":"/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nimport * as tf from '@tensorflow/tfjs-core';\r\nimport {Detection} from './interfaces/shape_interfaces';\r\n\r\nexport async function nonMaxSuppression(\r\n    detections: Detection[], maxPoses: number, iouThreshold: number,\r\n    scoreThreshold: number): Promise<Detection[]> {\r\n  const detectionsTensor = tf.tensor2d(detections.map(\r\n      d =>\r\n          [d.locationData.relativeBoundingBox.yMin,\r\n           d.locationData.relativeBoundingBox.xMin,\r\n           d.locationData.relativeBoundingBox.yMax,\r\n           d.locationData.relativeBoundingBox.xMax]));\r\n  const scoresTensor = tf.tensor1d(detections.map(d => d.score[0]));\r\n\r\n  const selectedIdsTensor = await tf.image.nonMaxSuppressionAsync(\r\n      detectionsTensor, scoresTensor, maxPoses, iouThreshold, scoreThreshold);\r\n  const selectedIds = await selectedIdsTensor.array();\r\n\r\n  const selectedDetections =\r\n      detections.filter((_, i) => (selectedIds.indexOf(i) > -1));\r\n\r\n  tf.dispose([detectionsTensor, scoresTensor, selectedIdsTensor]);\r\n\r\n  return selectedDetections;\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"0bc49ae33499f921fa60c634d571b69b","cacheData":{"env":{}}}