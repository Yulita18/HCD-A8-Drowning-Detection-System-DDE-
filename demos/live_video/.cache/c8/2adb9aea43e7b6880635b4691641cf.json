{"id":"XU8C","dependencies":[{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\posenet\\calculators\\decode_single_pose.js.map","includedInParent":true,"mtime":1636880779973},{"name":"C:\\xampp\\htdocs\\pose-detection\\src\\posenet\\calculators\\decode_single_pose.ts","includedInParent":true,"mtime":1636639654332},{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1636888836670},{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634828519177},{"name":"../../constants","loc":{"line":54,"column":26},"parent":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\posenet\\calculators\\decode_single_pose.js","resolved":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\constants.js"},{"name":"./decode_single_pose_util","loc":{"line":55,"column":40},"parent":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\posenet\\calculators\\decode_single_pose.js","resolved":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\posenet\\calculators\\decode_single_pose_util.js"}],"generated":{"js":"\"use strict\";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{s(r.next(e))}catch(t){i(t)}}function a(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,a)}s((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var n=require(\"../../constants\"),r=require(\"./decode_single_pose_util\");function o(o,i,u){return e(this,void 0,void 0,function(){var e,a,s,c,l,f,p,h,b,d;return t(this,function(t){switch(t.label){case 0:return e=0,a=r.argmax2d(o),[4,Promise.all([o.buffer(),i.buffer(),a.buffer()])];case 1:return s=t.sent(),c=s[0],l=s[1],f=s[2],[4,(p=r.getOffsetPoints(f,u,l)).buffer()];case 2:return h=t.sent(),b=Array.from(r.getPointsConfidence(c,f)),d=b.map(function(t,r){return e+=t,{y:h.get(r,0),x:h.get(r,1),score:t,name:n.COCO_KEYPOINTS[r]}}),a.dispose(),p.dispose(),[2,{keypoints:d,score:e/d.length}]}})})}exports.decodeSinglePose=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1442}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1446}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1448}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1456}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":1475}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":1477}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":1485}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":1514}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":58,"column":22},"generated":{"line":1,"column":1523}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":1525}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":59,"column":32},"generated":{"line":1,"column":1527}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":60,"column":4},"generated":{"line":1,"column":1529}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":1,"column":1644}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":61,"column":6},"generated":{"line":1,"column":1651}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":61,"column":19},"generated":{"line":1,"column":1653}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":1655}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":63,"column":24},"generated":{"line":1,"column":1657}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":63,"column":24},"generated":{"line":1,"column":1659}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":63,"column":33},"generated":{"line":1,"column":1668}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":1,"column":1671}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":1,"column":1672}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":65,"column":33},"generated":{"line":1,"column":1674}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":65,"column":41},"generated":{"line":1,"column":1682}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":66,"column":6},"generated":{"line":1,"column":1686}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":66,"column":7},"generated":{"line":1,"column":1687}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":66,"column":21},"generated":{"line":1,"column":1689}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":66,"column":31},"generated":{"line":1,"column":1698}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":66,"column":39},"generated":{"line":1,"column":1700}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":66,"column":49},"generated":{"line":1,"column":1709}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":66,"column":63},"generated":{"line":1,"column":1711}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":1,"column":1730}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":65,"column":8},"generated":{"line":1,"column":1737}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":1,"column":1739}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":1,"column":1741}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1748}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":68,"column":23},"generated":{"line":1,"column":1750}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":68,"column":40},"generated":{"line":1,"column":1752}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":1755}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":69,"column":24},"generated":{"line":1,"column":1757}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":69,"column":41},"generated":{"line":1,"column":1759}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":1762}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":70,"column":30},"generated":{"line":1,"column":1764}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":70,"column":47},"generated":{"line":1,"column":1766}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":1,"column":1769}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":1,"column":1770}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":1773}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":73,"column":6},"generated":{"line":1,"column":1775}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":73,"column":6},"generated":{"line":1,"column":1777}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":1,"column":1793}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":73,"column":43},"generated":{"line":1,"column":1795}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":73,"column":57},"generated":{"line":1,"column":1797}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":74,"column":48},"generated":{"line":1,"column":1801}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1818}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1825}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":1,"column":1827}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":1,"column":1829}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":1,"column":1836}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":1838}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":1844}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":77,"column":17},"generated":{"line":1,"column":1849}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":77,"column":17},"generated":{"line":1,"column":1851}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":77,"column":37},"generated":{"line":1,"column":1871}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":77,"column":51},"generated":{"line":1,"column":1873}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":1877}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":79,"column":20},"generated":{"line":1,"column":1879}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":79,"column":39},"generated":{"line":1,"column":1881}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":79,"column":43},"generated":{"line":1,"column":1885}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":79,"column":44},"generated":{"line":1,"column":1894}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":79,"column":51},"generated":{"line":1,"column":1896}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":1899}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":80,"column":4},"generated":{"line":1,"column":1906}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":80,"column":18},"generated":{"line":1,"column":1909}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":1,"column":1911}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":82,"column":6},"generated":{"line":1,"column":1912}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":82,"column":9},"generated":{"line":1,"column":1914}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":82,"column":28},"generated":{"line":1,"column":1916}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":82,"column":32},"generated":{"line":1,"column":1920}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":82,"column":44},"generated":{"line":1,"column":1922}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":1925}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":83,"column":9},"generated":{"line":1,"column":1927}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":83,"column":28},"generated":{"line":1,"column":1929}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":83,"column":32},"generated":{"line":1,"column":1933}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":83,"column":44},"generated":{"line":1,"column":1935}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":84,"column":6},"generated":{"line":1,"column":1938}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":84,"column":11},"generated":{"line":1,"column":1944}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":85,"column":6},"generated":{"line":1,"column":1946}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1951}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1953}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":85,"column":27},"generated":{"line":1,"column":1968}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":89,"column":2},"generated":{"line":1,"column":1974}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":89,"column":16},"generated":{"line":1,"column":1976}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":90,"column":2},"generated":{"line":1,"column":1986}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":90,"column":15},"generated":{"line":1,"column":1988}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1998}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1999}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":9},"generated":{"line":1,"column":2001}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":10},"generated":{"line":1,"column":2002}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":19},"generated":{"line":1,"column":2012}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":21},"generated":{"line":1,"column":2014}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":28},"generated":{"line":1,"column":2020}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":41},"generated":{"line":1,"column":2022}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":92,"column":51},"generated":{"line":1,"column":2024}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":2038}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":2046}},{"source":"../../../../../../../src/posenet/calculators/decode_single_pose.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":2063}}],"sources":{"../../../../../../../src/posenet/calculators/decode_single_pose.ts":"/**\r\n * @license\r\n * Copyright 2019 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\n\r\nimport * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport {COCO_KEYPOINTS} from '../../constants';\r\nimport { Keypoint } from '../../../src/shared/calculators/interfaces/common_interfaces';\r\nimport {Pose} from '../../types';\r\nimport {PoseNetOutputStride} from '../types';\r\n\r\nimport {argmax2d, getOffsetPoints, getPointsConfidence} from './decode_single_pose_util';\r\n\r\n/**\r\n * Detects a single pose and finds its parts from part scores and offset\r\n * vectors. It returns a single pose detection. It works as follows:\r\n * argmax2d is done on the scores to get the y and x index in the heatmap\r\n * with the highest score for each part, which is essentially where the\r\n * part is most likely to exist. This produces a tensor of size 17x2, with\r\n * each row being the y and x index in the heatmap for each keypoint.\r\n * The offset vector for each part is retrieved by getting the\r\n * y and x from the offsets corresponding to the y and x index in the\r\n * heatmap for that part. This produces a tensor of size 17x2, with each\r\n * row being the offset vector for the corresponding keypoint.\r\n * To get the keypoint, each partâ€™s heatmap y and x are multiplied\r\n * by the output stride then added to their corresponding offset vector,\r\n * which is in the same scale as the original image.\r\n *\r\n * @param heatmapScores 3-D tensor with shape `[height, width, numParts]`.\r\n * The value of heatmapScores[y, x, k]` is the score of placing the `k`-th\r\n * object part at position `(y, x)`.\r\n *\r\n * @param offsets 3-D tensor with shape `[height, width, numParts * 2]`.\r\n * The value of [offsets[y, x, k], offsets[y, x, k + numParts]]` is the\r\n * short range offset vector of the `k`-th  object part at heatmap\r\n * position `(y, x)`.\r\n *\r\n * @param outputStride The output stride that was used when feed-forwarding\r\n * through the PoseNet model.  Must be 32, 16, or 8.\r\n *\r\n * @return A promise that resolves with single pose with a confidence score,\r\n * which contains an array of keypoints indexed by part id, each with a score\r\n * and position.\r\n */\r\nexport async function decodeSinglePose(\r\n    heatmapScores: tf.Tensor3D, offsets: tf.Tensor3D,\r\n    outputStride: PoseNetOutputStride): Promise<Pose> {\r\n  let totalScore = 0.0;\r\n\r\n  const heatmapValues = argmax2d(heatmapScores);\r\n\r\n  const allTensorBuffers = await Promise.all(\r\n      [heatmapScores.buffer(), offsets.buffer(), heatmapValues.buffer()]);\r\n\r\n  const scoresBuffer = allTensorBuffers[0];\r\n  const offsetsBuffer = allTensorBuffers[1];\r\n  const heatmapValuesBuffer = allTensorBuffers[2];\r\n\r\n  const offsetPoints =\r\n      getOffsetPoints(heatmapValuesBuffer, outputStride, offsetsBuffer);\r\n  const offsetPointsBuffer = await offsetPoints.buffer();\r\n\r\n  const keypointConfidence =\r\n      Array.from(getPointsConfidence(scoresBuffer, heatmapValuesBuffer));\r\n\r\n  const keypoints = keypointConfidence.map((score, keypointId): Keypoint => {\r\n    totalScore += score;\r\n    return {\r\n      y: offsetPointsBuffer.get(keypointId, 0),\r\n      x: offsetPointsBuffer.get(keypointId, 1),\r\n      score,\r\n      name: COCO_KEYPOINTS[keypointId]\r\n    };\r\n  });\r\n\r\n  heatmapValues.dispose();\r\n  offsetPoints.dispose();\r\n\r\n  return {keypoints, score: totalScore / keypoints.length};\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"5555d6389652d87acff170bc02b16d4e","cacheData":{"env":{}}}