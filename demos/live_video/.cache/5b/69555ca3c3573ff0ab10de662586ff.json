{"id":"p7NJ","dependencies":[{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\calculators\\tracker.js.map","includedInParent":true,"mtime":1636860941472},{"name":"C:\\xampp\\htdocs\\pose-detection\\src\\calculators\\tracker.ts","includedInParent":true,"mtime":1636643622688},{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1636888836670},{"name":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1634828519177},{"name":"./tracker_utils","loc":{"line":30,"column":30},"parent":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\calculators\\tracker.js","resolved":"C:\\xampp\\htdocs\\pose-detection\\demos\\live_video\\node_modules\\@tensorflow-models\\pose-detection\\calculators\\tracker_utils.js"}],"generated":{"js":"\"use strict\";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var r,i=1,e=arguments.length;i<e;i++)for(var s in r=arguments[i])Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var r=require(\"./tracker_utils\"),i=function(){function i(t){r.validateTrackerConfig(t),this.tracks=[],this.maxTracks=t.maxTracks,this.maxAge=1e3*t.maxAge,this.minSimilarity=t.minSimilarity,this.nextID=1}return i.prototype.apply=function(t,r){this.filterOldTracks(r);var i=this.computeSimilarity(t);return this.assignTracks(t,i,r),this.updateTracks(r),t},i.prototype.getTracks=function(){return this.tracks.slice()},i.prototype.getTrackIDs=function(){return new Set(this.tracks.map(function(t){return t.id}))},i.prototype.filterOldTracks=function(t){var r=this;this.tracks=this.tracks.filter(function(i){return t-i.lastTimestamp<=r.maxAge})},i.prototype.assignTracks=function(t,r,i){for(var e=Array.from(Array(r[0].length).keys()),s=[],a=0,n=Array.from(Array(t.length).keys());a<n.length;a++){var c=n[a];if(0!==e.length){for(var o=-1,p=-1,h=0,u=e;h<u.length;h++){var l=u[h],f=r[c][l];f>=this.minSimilarity&&f>p&&(o=l,p=f)}if(o>=0){var k=this.tracks[o];k=Object.assign(k,this.createTrack(t[c],i,k.id)),t[c].id=k.id;var m=e.indexOf(o);e.splice(m,1)}else s.push(c)}else s.push(c)}for(var y=0,T=s;y<T.length;y++){c=T[y];var v=this.createTrack(t[c],i);this.tracks.push(v),t[c].id=v.id}},i.prototype.updateTracks=function(t){this.tracks.sort(function(t,r){return r.lastTimestamp-t.lastTimestamp}),this.tracks=this.tracks.slice(0,this.maxTracks)},i.prototype.createTrack=function(r,i,e){var s={id:e||this.nextTrackID(),lastTimestamp:i,keypoints:r.keypoints.slice().map(function(r){return t({},r)})};return void 0!==r.box&&(s.box=t({},r.box)),s},i.prototype.nextTrackID=function(){var t=this.nextID;return this.nextID+=1,t},i.prototype.remove=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.tracks=this.tracks.filter(function(r){return!t.includes(r.id)})},i.prototype.reset=function(){this.tracks=[]},i}();exports.Tracker=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":300}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":304}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":306}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":314}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":333}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":335}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":346}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":355}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":1,"column":357}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":1,"column":360}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":1,"column":362}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":37,"column":26},"generated":{"line":1,"column":384}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":387}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":392}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":38,"column":18},"generated":{"line":1,"column":399}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":402}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":407}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":39,"column":21},"generated":{"line":1,"column":417}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":1,"column":419}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":429}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":434}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":40,"column":34},"generated":{"line":1,"column":441}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":445}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":40,"column":25},"generated":{"line":1,"column":447}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":1,"column":454}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":459}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":41,"column":25},"generated":{"line":1,"column":473}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":41,"column":32},"generated":{"line":1,"column":475}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":1,"column":489}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":494}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":1,"column":501}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":207,"column":0},"generated":{"line":1,"column":503}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":1,"column":510}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":1,"column":512}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":1,"column":522}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":1,"column":528}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":537}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":52,"column":23},"generated":{"line":1,"column":539}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":542}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":547}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":53,"column":25},"generated":{"line":1,"column":563}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":566}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":54,"column":10},"generated":{"line":1,"column":570}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":1,"column":572}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":54,"column":27},"generated":{"line":1,"column":577}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":54,"column":45},"generated":{"line":1,"column":595}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":598}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":605}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":610}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":55,"column":22},"generated":{"line":1,"column":623}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":55,"column":29},"generated":{"line":1,"column":625}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":55,"column":40},"generated":{"line":1,"column":627}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":1,"column":630}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":635}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":56,"column":22},"generated":{"line":1,"column":648}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":57,"column":11},"generated":{"line":1,"column":651}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":1,"column":654}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":1,"column":656}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":1,"column":666}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":1,"column":676}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":687}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":73,"column":11},"generated":{"line":1,"column":694}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":73,"column":16},"generated":{"line":1,"column":699}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":73,"column":23},"generated":{"line":1,"column":706}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":715}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":717}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":727}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":739}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":4},"generated":{"line":1,"column":750}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":11},"generated":{"line":1,"column":757}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":15},"generated":{"line":1,"column":761}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":19},"generated":{"line":1,"column":765}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":24},"generated":{"line":1,"column":770}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":31},"generated":{"line":1,"column":777}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":35},"generated":{"line":1,"column":781}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":35},"generated":{"line":1,"column":790}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":1,"column":793}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":1,"column":800}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":80,"column":50},"generated":{"line":1,"column":802}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":1,"column":809}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":1,"column":811}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":1,"column":821}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":1,"column":837}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":87,"column":18},"generated":{"line":1,"column":846}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":1,"column":849}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":1,"column":853}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":1,"column":855}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":1,"column":860}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":88,"column":9},"generated":{"line":1,"column":865}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":88,"column":18},"generated":{"line":1,"column":872}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":88,"column":23},"generated":{"line":1,"column":877}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":88,"column":30},"generated":{"line":1,"column":884}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":88,"column":37},"generated":{"line":1,"column":891}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":88,"column":37},"generated":{"line":1,"column":900}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":89,"column":6},"generated":{"line":1,"column":903}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":89,"column":13},"generated":{"line":1,"column":910}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":89,"column":25},"generated":{"line":1,"column":912}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":89,"column":31},"generated":{"line":1,"column":914}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":89,"column":48},"generated":{"line":1,"column":929}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":89,"column":53},"generated":{"line":1,"column":931}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":941}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":943}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":953}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":966}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":103,"column":15},"generated":{"line":1,"column":975}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":103,"column":30},"generated":{"line":1,"column":977}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":103,"column":53},"generated":{"line":1,"column":979}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":1,"column":982}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":104,"column":4},"generated":{"line":1,"column":986}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":104,"column":10},"generated":{"line":1,"column":990}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":104,"column":34},"generated":{"line":1,"column":992}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":104,"column":40},"generated":{"line":1,"column":998}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":104,"column":45},"generated":{"line":1,"column":1003}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":104,"column":51},"generated":{"line":1,"column":1009}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":104,"column":61},"generated":{"line":1,"column":1011}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":104,"column":64},"generated":{"line":1,"column":1014}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":104,"column":72},"generated":{"line":1,"column":1022}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":106,"column":10},"generated":{"line":1,"column":1030}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":106,"column":48},"generated":{"line":1,"column":1032}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1035}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1037}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1039}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":105,"column":29},"generated":{"line":1,"column":1041}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":105,"column":35},"generated":{"line":1,"column":1047}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":105,"column":40},"generated":{"line":1,"column":1052}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":105,"column":46},"generated":{"line":1,"column":1058}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":105,"column":52},"generated":{"line":1,"column":1060}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":105,"column":60},"generated":{"line":1,"column":1068}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1076}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1078}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1080}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1087}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":51},"generated":{"line":1,"column":1091}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":9},"generated":{"line":1,"column":1092}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":15},"generated":{"line":1,"column":1096}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":29},"generated":{"line":1,"column":1098}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":108,"column":29},"generated":{"line":1,"column":1100}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":109,"column":6},"generated":{"line":1,"column":1103}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":109,"column":43},"generated":{"line":1,"column":1106}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":109,"column":10},"generated":{"line":1,"column":1110}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":109,"column":32},"generated":{"line":1,"column":1112}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":109,"column":6},"generated":{"line":1,"column":1119}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":6},"generated":{"line":1,"column":1120}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":1,"column":1124}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":1,"column":1128}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":117,"column":27},"generated":{"line":1,"column":1131}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":118,"column":10},"generated":{"line":1,"column":1133}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":118,"column":27},"generated":{"line":1,"column":1136}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":31},"generated":{"line":1,"column":1138}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":31},"generated":{"line":1,"column":1140}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":31},"generated":{"line":1,"column":1142}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":31},"generated":{"line":1,"column":1144}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":31},"generated":{"line":1,"column":1146}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":31},"generated":{"line":1,"column":1148}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":31},"generated":{"line":1,"column":1150}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":31},"generated":{"line":1,"column":1157}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":54},"generated":{"line":1,"column":1161}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":11},"generated":{"line":1,"column":1162}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":17},"generated":{"line":1,"column":1166}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":27},"generated":{"line":1,"column":1168}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":119,"column":27},"generated":{"line":1,"column":1170}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":120,"column":14},"generated":{"line":1,"column":1173}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":120,"column":27},"generated":{"line":1,"column":1175}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":120,"column":37},"generated":{"line":1,"column":1177}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":120,"column":53},"generated":{"line":1,"column":1180}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":121,"column":12},"generated":{"line":1,"column":1183}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":121,"column":26},"generated":{"line":1,"column":1186}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":121,"column":31},"generated":{"line":1,"column":1191}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":121,"column":48},"generated":{"line":1,"column":1206}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":121,"column":61},"generated":{"line":1,"column":1208}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":122,"column":10},"generated":{"line":1,"column":1212}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":122,"column":26},"generated":{"line":1,"column":1214}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":123,"column":10},"generated":{"line":1,"column":1216}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":123,"column":26},"generated":{"line":1,"column":1218}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":126,"column":6},"generated":{"line":1,"column":1221}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":126,"column":10},"generated":{"line":1,"column":1224}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":126,"column":27},"generated":{"line":1,"column":1227}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":126,"column":30},"generated":{"line":1,"column":1229}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":128,"column":8},"generated":{"line":1,"column":1230}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":128,"column":12},"generated":{"line":1,"column":1234}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":128,"column":26},"generated":{"line":1,"column":1236}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":128,"column":31},"generated":{"line":1,"column":1241}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":128,"column":38},"generated":{"line":1,"column":1248}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":129,"column":8},"generated":{"line":1,"column":1251}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":129,"column":22},"generated":{"line":1,"column":1253}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":129,"column":29},"generated":{"line":1,"column":1260}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":130,"column":12},"generated":{"line":1,"column":1267}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":131,"column":12},"generated":{"line":1,"column":1269}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":131,"column":17},"generated":{"line":1,"column":1274}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":131,"column":29},"generated":{"line":1,"column":1286}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":131,"column":35},"generated":{"line":1,"column":1288}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":131,"column":52},"generated":{"line":1,"column":1291}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":131,"column":63},"generated":{"line":1,"column":1293}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":131,"column":75},"generated":{"line":1,"column":1295}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":132,"column":8},"generated":{"line":1,"column":1300}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":132,"column":14},"generated":{"line":1,"column":1302}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":132,"column":30},"generated":{"line":1,"column":1305}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":132,"column":35},"generated":{"line":1,"column":1308}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":132,"column":47},"generated":{"line":1,"column":1310}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":133,"column":8},"generated":{"line":1,"column":1313}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":133,"column":14},"generated":{"line":1,"column":1317}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":133,"column":22},"generated":{"line":1,"column":1319}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":133,"column":44},"generated":{"line":1,"column":1321}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":133,"column":52},"generated":{"line":1,"column":1329}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":134,"column":8},"generated":{"line":1,"column":1332}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":134,"column":30},"generated":{"line":1,"column":1334}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":134,"column":37},"generated":{"line":1,"column":1341}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":134,"column":44},"generated":{"line":1,"column":1343}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":136,"column":8},"generated":{"line":1,"column":1351}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":136,"column":34},"generated":{"line":1,"column":1353}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":136,"column":39},"generated":{"line":1,"column":1358}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":1366}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":110,"column":34},"generated":{"line":1,"column":1368}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":110,"column":39},"generated":{"line":1,"column":1373}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":4},"generated":{"line":1,"column":1376}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1380}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1384}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1386}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1388}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1390}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1392}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1394}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1396}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1403}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":60},"generated":{"line":1,"column":1407}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":15},"generated":{"line":1,"column":1408}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":29},"generated":{"line":1,"column":1410}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":29},"generated":{"line":1,"column":1412}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":141,"column":9},"generated":{"line":1,"column":1415}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":142,"column":12},"generated":{"line":1,"column":1419}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":142,"column":23},"generated":{"line":1,"column":1421}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":142,"column":28},"generated":{"line":1,"column":1426}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":142,"column":40},"generated":{"line":1,"column":1438}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":142,"column":46},"generated":{"line":1,"column":1440}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":142,"column":63},"generated":{"line":1,"column":1443}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":143,"column":6},"generated":{"line":1,"column":1446}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":143,"column":11},"generated":{"line":1,"column":1451}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":143,"column":18},"generated":{"line":1,"column":1458}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":143,"column":23},"generated":{"line":1,"column":1463}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":144,"column":6},"generated":{"line":1,"column":1466}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":144,"column":12},"generated":{"line":1,"column":1468}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":144,"column":28},"generated":{"line":1,"column":1471}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":144,"column":33},"generated":{"line":1,"column":1474}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":144,"column":42},"generated":{"line":1,"column":1476}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":158,"column":2},"generated":{"line":1,"column":1481}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":158,"column":2},"generated":{"line":1,"column":1483}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":158,"column":2},"generated":{"line":1,"column":1493}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":158,"column":2},"generated":{"line":1,"column":1506}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":158,"column":15},"generated":{"line":1,"column":1515}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":4},"generated":{"line":1,"column":1518}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":9},"generated":{"line":1,"column":1523}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":16},"generated":{"line":1,"column":1530}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":21},"generated":{"line":1,"column":1535}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":22},"generated":{"line":1,"column":1544}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":26},"generated":{"line":1,"column":1546}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":33},"generated":{"line":1,"column":1549}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":33},"generated":{"line":1,"column":1556}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":36},"generated":{"line":1,"column":1558}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":52},"generated":{"line":1,"column":1572}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":161,"column":55},"generated":{"line":1,"column":1574}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":162,"column":4},"generated":{"line":1,"column":1590}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":162,"column":9},"generated":{"line":1,"column":1595}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":162,"column":18},"generated":{"line":1,"column":1602}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":162,"column":23},"generated":{"line":1,"column":1607}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":162,"column":30},"generated":{"line":1,"column":1614}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":162,"column":36},"generated":{"line":1,"column":1620}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":162,"column":39},"generated":{"line":1,"column":1622}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":162,"column":44},"generated":{"line":1,"column":1627}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":1639}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":1641}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":1651}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":1663}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":173,"column":14},"generated":{"line":1,"column":1672}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":173,"column":26},"generated":{"line":1,"column":1674}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":173,"column":45},"generated":{"line":1,"column":1676}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":174,"column":4},"generated":{"line":1,"column":1679}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":174,"column":10},"generated":{"line":1,"column":1683}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":174,"column":25},"generated":{"line":1,"column":1685}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":175,"column":6},"generated":{"line":1,"column":1686}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":175,"column":10},"generated":{"line":1,"column":1689}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":175,"column":21},"generated":{"line":1,"column":1692}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":175,"column":26},"generated":{"line":1,"column":1697}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":176,"column":6},"generated":{"line":1,"column":1711}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":176,"column":21},"generated":{"line":1,"column":1725}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":6},"generated":{"line":1,"column":1727}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":21},"generated":{"line":1,"column":1737}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":26},"generated":{"line":1,"column":1739}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":35},"generated":{"line":1,"column":1749}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":37},"generated":{"line":1,"column":1757}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":41},"generated":{"line":1,"column":1761}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":41},"generated":{"line":1,"column":1770}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":53},"generated":{"line":1,"column":1773}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":53},"generated":{"line":1,"column":1780}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":53},"generated":{"line":1,"column":1782}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":177,"column":58},"generated":{"line":1,"column":1785}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":182,"column":4},"generated":{"line":1,"column":1791}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":179,"column":21},"generated":{"line":1,"column":1803}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":179,"column":8},"generated":{"line":1,"column":1807}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":179,"column":13},"generated":{"line":1,"column":1809}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":180,"column":6},"generated":{"line":1,"column":1815}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":180,"column":12},"generated":{"line":1,"column":1817}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":180,"column":15},"generated":{"line":1,"column":1821}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":180,"column":15},"generated":{"line":1,"column":1823}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":180,"column":22},"generated":{"line":1,"column":1826}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":180,"column":27},"generated":{"line":1,"column":1828}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":182,"column":11},"generated":{"line":1,"column":1834}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":188,"column":2},"generated":{"line":1,"column":1837}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":188,"column":2},"generated":{"line":1,"column":1839}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":188,"column":2},"generated":{"line":1,"column":1849}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":188,"column":2},"generated":{"line":1,"column":1861}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":189,"column":4},"generated":{"line":1,"column":1872}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":189,"column":10},"generated":{"line":1,"column":1876}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":189,"column":19},"generated":{"line":1,"column":1878}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":189,"column":24},"generated":{"line":1,"column":1883}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":191,"column":4},"generated":{"line":1,"column":1890}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":190,"column":4},"generated":{"line":1,"column":1897}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":190,"column":9},"generated":{"line":1,"column":1902}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":190,"column":19},"generated":{"line":1,"column":1910}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":191,"column":11},"generated":{"line":1,"column":1912}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":2},"generated":{"line":1,"column":1915}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":2},"generated":{"line":1,"column":1917}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":2},"generated":{"line":1,"column":1927}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":2},"generated":{"line":1,"column":1934}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1949}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1953}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1955}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1958}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1960}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1962}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1964}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1974}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1981}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1985}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1987}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":1990}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":2000}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":4},"generated":{"line":1,"column":2003}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":9},"generated":{"line":1,"column":2008}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":18},"generated":{"line":1,"column":2015}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":23},"generated":{"line":1,"column":2020}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":30},"generated":{"line":1,"column":2027}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":37},"generated":{"line":1,"column":2034}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":37},"generated":{"line":1,"column":2043}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":46},"generated":{"line":1,"column":2046}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":47},"generated":{"line":1,"column":2053}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":51},"generated":{"line":1,"column":2055}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":60},"generated":{"line":1,"column":2064}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":198,"column":66},"generated":{"line":1,"column":2066}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":204,"column":2},"generated":{"line":1,"column":2073}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":204,"column":2},"generated":{"line":1,"column":2075}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":204,"column":2},"generated":{"line":1,"column":2085}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":204,"column":2},"generated":{"line":1,"column":2091}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":205,"column":4},"generated":{"line":1,"column":2102}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":205,"column":9},"generated":{"line":1,"column":2107}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":205,"column":18},"generated":{"line":1,"column":2114}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":207,"column":0},"generated":{"line":1,"column":2118}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":2120}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":1,"column":2123}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":1,"column":2131}},{"source":"../../../../../../src/calculators/tracker.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":1,"column":2139}}],"sources":{"../../../../../../src/calculators/tracker.ts":"/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\n\r\nimport {Pose} from '../types';\r\n\r\nimport {Track} from './interfaces/common_interfaces';\r\nimport {TrackerConfig} from './interfaces/config_interfaces';\r\nimport {validateTrackerConfig} from './tracker_utils';\r\n\r\n/**\r\n * A stateful tracker for associating detections between frames. This is an\r\n * abstract base class that performs generic mechanics. Implementations must\r\n * inherit from this class.\r\n */\r\nexport abstract class Tracker {\r\n  protected tracks: Track[];\r\n  private readonly maxTracks: number;\r\n  private readonly maxAge: number;\r\n  private readonly minSimilarity: number;\r\n  private nextID: number;\r\n\r\n  constructor(config: TrackerConfig) {\r\n    validateTrackerConfig(config);\r\n    this.tracks = [];\r\n    this.maxTracks = config.maxTracks;\r\n    this.maxAge = config.maxAge * 1000;  // Convert msec to usec.\r\n    this.minSimilarity = config.minSimilarity;\r\n    this.nextID = 1;\r\n  }\r\n\r\n  /**\r\n   * Tracks person instances across frames based on detections.\r\n   * @param poses An array of detected `Pose`s.\r\n   * @param timestamp The timestamp associated with the incoming poses, in\r\n   * microseconds.\r\n   * @returns An updated array of `Pose`s with tracking id properties.\r\n   */\r\n  apply(poses: Pose[], timestamp: number): Pose[] {\r\n    this.filterOldTracks(timestamp);\r\n    const simMatrix = this.computeSimilarity(poses);\r\n    this.assignTracks(poses, simMatrix, timestamp);\r\n    this.updateTracks(timestamp);\r\n    return poses;\r\n  }\r\n\r\n  /**\r\n   * Computes pairwise similarity scores between detections and tracks, based\r\n   * on detected features.\r\n   * @param poses An array of detected `Pose`s.\r\n   * @returns A 2D array of shape [num_det, num_tracks] with pairwise\r\n   * similarity scores between detections and tracks.\r\n   */\r\n  abstract computeSimilarity(poses: Pose[]): number[][];\r\n\r\n  /**\r\n   * Returns a copy of the stored tracks.\r\n   */\r\n  getTracks(): Track[] {\r\n    return this.tracks.slice();\r\n  }\r\n\r\n  /**\r\n   * Returns a Set of active track IDs.\r\n   */\r\n  getTrackIDs(): Set<number> {\r\n    return new Set(this.tracks.map(track => track.id));\r\n  }\r\n\r\n  /**\r\n   * Filters tracks based on their age.\r\n   * @param timestamp The current timestamp in microseconds.\r\n   */\r\n  filterOldTracks(timestamp: number): void {\r\n    this.tracks = this.tracks.filter(track => {\r\n      return timestamp - track.lastTimestamp <= this.maxAge;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Performs a greedy optimization to link detections with tracks. The `poses`\r\n   * array is updated in place by providing an `id` property. If incoming\r\n   * detections are not linked with existing tracks, new tracks will be created.\r\n   * @param poses An array of detected `Pose`s. It's assumed that poses are\r\n   * sorted from most confident to least confident.\r\n   * @param simMatrix A 2D array of shape [num_det, num_tracks] with pairwise\r\n   * similarity scores between detections and tracks.\r\n   * @param timestamp The current timestamp in microseconds.\r\n   */\r\n  assignTracks(poses: Pose[], simMatrix: number[][], timestamp: number): void {\r\n    const unmatchedTrackIndices = Array.from(Array(simMatrix[0].length).keys());\r\n    const detectionIndices = Array.from(Array(poses.length).keys());\r\n    const unmatchedDetectionIndices: number[] = [];\r\n\r\n    for (const detectionIndex of detectionIndices) {\r\n      if (unmatchedTrackIndices.length === 0) {\r\n        unmatchedDetectionIndices.push(detectionIndex);\r\n        continue;\r\n      }\r\n\r\n      // Assign the detection to the track which produces the highest pairwise\r\n      // similarity score, assuming the score exceeds the minimum similarity\r\n      // threshold.\r\n      let maxTrackIndex = -1;\r\n      let maxSimilarity = -1;\r\n      for (const trackIndex of unmatchedTrackIndices) {\r\n        const similarity = simMatrix[detectionIndex][trackIndex];\r\n        if (similarity >= this.minSimilarity && similarity > maxSimilarity) {\r\n          maxTrackIndex = trackIndex;\r\n          maxSimilarity = similarity;\r\n        }\r\n      }\r\n      if (maxTrackIndex >= 0) {\r\n        // Link the detection with the highest scoring track.\r\n        let linkedTrack = this.tracks[maxTrackIndex];\r\n        linkedTrack = Object.assign(\r\n            linkedTrack,\r\n            this.createTrack(poses[detectionIndex], timestamp, linkedTrack.id));\r\n        poses[detectionIndex].id = linkedTrack.id;\r\n        const index = unmatchedTrackIndices.indexOf(maxTrackIndex);\r\n        unmatchedTrackIndices.splice(index, 1);\r\n      } else {\r\n        unmatchedDetectionIndices.push(detectionIndex);\r\n      }\r\n    }\r\n\r\n    // Spawn new tracks for all unmatched detections.\r\n    for (const detectionIndex of unmatchedDetectionIndices) {\r\n      const newTrack = this.createTrack(poses[detectionIndex], timestamp);\r\n      this.tracks.push(newTrack);\r\n      poses[detectionIndex].id = newTrack.id;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the stored tracks in the tracker. Specifically, the following\r\n   * operations are applied in order:\r\n   * 1. Tracks are sorted based on freshness (i.e. the most recently linked\r\n   *    tracks are placed at the beginning of the array and the most stale are\r\n   *    at the end).\r\n   * 2. The tracks array is sliced to only contain `maxTracks` tracks (i.e. the\r\n   *    most fresh tracks).\r\n   * @param timestamp The current timestamp in microseconds.\r\n   */\r\n  updateTracks(timestamp: number): void {\r\n    // Sort tracks from most recent to most stale, and then only keep the top\r\n    // `maxTracks` tracks.\r\n    this.tracks.sort((ta, tb) => tb.lastTimestamp - ta.lastTimestamp);\r\n    this.tracks = this.tracks.slice(0, this.maxTracks);\r\n  }\r\n\r\n  /**\r\n   * Creates a track from information in a pose.\r\n   * @param pose A `Pose`.\r\n   * @param timestamp The current timestamp in microseconds.\r\n   * @param trackID The id to assign to the new track. If not provided,\r\n   * will assign the next available id.\r\n   * @returns A `Track`.\r\n   */\r\n  createTrack(pose: Pose, timestamp: number, trackID?: number): Track {\r\n    const track: Track = {\r\n      id: trackID || this.nextTrackID(),\r\n      lastTimestamp: timestamp,\r\n      keypoints: [...pose.keypoints].map(keypoint => ({...keypoint}))\r\n    };\r\n    if (pose.box !== undefined) {\r\n      track.box = {...pose.box};\r\n    }\r\n    return track;\r\n  }\r\n\r\n  /**\r\n   * Returns the next free track ID.\r\n   */\r\n  nextTrackID() {\r\n    const nextID = this.nextID;\r\n    this.nextID += 1;\r\n    return nextID;\r\n  }\r\n\r\n  /**\r\n   * Removes specific tracks, based on their ids.\r\n   */\r\n  remove(...ids: number[]): void {\r\n    this.tracks = this.tracks.filter(track => !ids.includes(track.id));\r\n  }\r\n\r\n  /**\r\n   * Resets tracks.\r\n   */\r\n  reset(): void {\r\n    this.tracks = [];\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"94e24064f7502ec4cf45dd474edb347d","cacheData":{"env":{}}}